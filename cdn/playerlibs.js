import{i as it,a as Ct,S as ot,t as nt,u as A,c as at,D as z,C as y,g as $s,s as bt,o as T,e as l,l as u,b as ws,d as Zt,f as Q,h as Jn,j as Zn,k as g,V as _,m as ke,E as xs,n as x,p as D,r as Yn,q as At,v as ks,w as Ts,x as V,y as d,z as Gn,A as L,B as Es,F as G,G as ht,H as Xn,I as w,J as N,K as _n,L as Yt,M as ta,N as jt,O as Ms,P as tt,Q as Lt,R as ea,T as Ss,U as sa,W as ia,X as v,Y as b,Z as Ps,_ as na}from"./chunks/vidstack-da9d61a3.js";import{c as Cs,L as M,I as As,a as aa,b as Te,A as ra,d as oa,V as ha,e as la,i as Ee,f as ca,g as js,r as W,h as da,j as ua}from"./chunks/vidstack-0f558ed8.js";import{i as F,T as H,a as Me,p as Se,g as Pe,b as pa,f as ma,o as Gt,c as ga}from"./chunks/vidstack-de8b8158.js";import{Q as vt,c as Ce}from"./chunks/vidstack-ccbbefdc.js";import{lazyPaths as Ls}from"https://cdn.jsdelivr.net/npm/media-icons@next/dist/lazy.js";class Ae{get length(){return this.xg.length}constructor(t,e){it(t)?this.xg=t:!Ct(t)&&!Ct(e)?this.xg=[[t,e]]:this.xg=[]}start(t){return this.xg[t][0]??1/0}end(t){return this.xg[t][1]??1/0}}function Ns(n){if(!n.length)return null;let t=n.start(0);for(let e=1;e<n.length;e++){const s=n.start(e);s<t&&(t=s)}return t}function Is(n){if(!n.length)return null;let t=n.end(0);for(let e=1;e<n.length;e++){const s=n.end(e);s>t&&(t=s)}return t}const je=new ot({audioTracks:[],audioTrack:null,autoplay:!1,autoplayError:null,buffered:new Ae,duration:0,canLoad:!1,canFullscreen:!1,canOrientScreen:Cs(),canPictureInPicture:!1,canPlay:!1,controls:!1,controlsVisible:!1,crossorigin:null,poster:"",currentTime:0,ended:!1,error:null,fullscreen:!1,loop:!1,logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new Ae,playing:!1,playsinline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetVolume:!1,seekable:new Ae,seeking:!1,source:{src:"",type:""},sources:[],started:!1,title:"",textTracks:[],textTrack:null,volume:1,waiting:!1,get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){return Ns(this.buffered)??0},get bufferedEnd(){return Is(this.buffered)??0},get seekableStart(){return Ns(this.seekable)??0},get seekableEnd(){return this.canPlay?Is(this.seekable)??1/0:0},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.duration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoplaying:!1,inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null}),fa=new Set(["autoplay","canFullscreen","canLoad","canPictureInPicture","canSetVolume","controls","crossorigin","fullscreen","height","logLevel","loop","mediaHeight","mediaWidth","mediaType","muted","orientation","pictureInPicture","playsinline","pointer","poster","preload","providedStreamType","inferredViewType","providedViewType","source","sources","textTrack","textTracks","title","volume","width"]);function ba(n){je.reset(n,t=>!fa.has(t)),nt()}const qs=at();function p(){return A(qs)}class va{constructor(t=void 0){this.xf=null,this.zg=null,this.Bg=-1,this.Cg=t}setTarget(t){this.xf=t}getPlayer(t){return this.zg?this.zg:((t??this.xf)?.dispatchEvent(new z("find-media-player",{detail:e=>void(this.zg=e),bubbles:!0,composed:!0})),this.zg)}setPlayer(t){this.zg=t}startLoading(t){this.yg("media-start-loading",t)}play(t){this.yg("media-play-request",t)}pause(t){this.yg("media-pause-request",t)}mute(t){this.yg("media-mute-request",t)}unmute(t){this.yg("media-unmute-request",t)}enterFullscreen(t,e){this.yg("media-enter-fullscreen-request",e,t)}exitFullscreen(t,e){this.yg("media-exit-fullscreen-request",e,t)}lockScreenOrientation(t,e){this.yg("media-orientation-lock-request",e,t)}unlockScreenOrientation(t){this.yg("media-orientation-unlock-request",t)}enterPictureInPicture(t){this.yg("media-enter-pip-request",t)}exitPictureInPicture(t){this.yg("media-exit-pip-request",t)}seeking(t,e){this.yg("media-seeking-request",e,t)}seek(t,e){this.yg("media-seek-request",e,t)}seekToLiveEdge(t){this.yg("media-live-edge-request",t)}changeVolume(t,e){this.yg("media-volume-change-request",e,Math.max(0,Math.min(1,t)))}changeAudioTrack(t,e){this.yg("media-audio-track-change-request",e,t)}changeQuality(t,e){this.yg("media-quality-change-request",e,t)}requestAutoQuality(t){this.changeQuality(-1,t)}changeTextTrackMode(t,e,s){this.yg("media-text-track-change-request",s,{index:t,mode:e})}changePlaybackRate(t,e){this.yg("media-rate-change-request",e,t)}resumeControls(t){this.yg("media-resume-controls-request",t)}pauseControls(t){this.yg("media-pause-controls-request",t)}togglePaused(t){const e=this.getPlayer(t?.target);e&&(e.state.paused?this.play(t):this.pause(t))}toggleControls(t){const e=this.getPlayer(t?.target);e&&(e.controls.showing?e.controls.hide(0,t):e.controls.show(0,t))}toggleMuted(t){const e=this.getPlayer(t?.target);e&&(e.state.muted?this.unmute(t):this.mute(t))}toggleFullscreen(t,e){const s=this.getPlayer(e?.target);s&&(s.state.fullscreen?this.exitFullscreen(t,e):this.enterFullscreen(t,e))}togglePictureInPicture(t){const e=this.getPlayer(t?.target);e&&(e.state.pictureInPicture?this.exitPictureInPicture(t):this.enterPictureInPicture(t))}disableCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const a=s.indexOf(i);this.changeTextTrackMode(a,"disabled",t)}}toggleCaptions(t){const e=this.getPlayer(t?.target);if(!e)return;const s=e.state.textTracks,i=e.state.textTrack;if(i){const a=s.indexOf(i);this.changeTextTrackMode(a,"disabled",t),this.Bg=a}else{let a=this.Bg;(!s[a]||!F(s[a]))&&(a=-1),a===-1&&(a=s.findIndex(r=>F(r)&&r.default)),a===-1&&(a=s.findIndex(r=>F(r))),a>=0&&this.changeTextTrackMode(a,"showing",t),this.Bg=-1}}yg(t,e,s){const i=new z(t,{bubbles:!0,composed:!0,detail:s,trigger:e});let a=e?.target||null;a&&a instanceof y&&(a=a.el),a=!a||a===document||a===window||a===document.body||this.zg?.el&&a instanceof Node&&!this.zg.el.contains(a)?this.xf??this.getPlayer()?.el:a??this.xf,this.zg?this.zg.canPlayQueue.hc(t,()=>a?.dispatchEvent(i)):a?.dispatchEvent(i)}Ag(t){}}function E(n,t,e){n.hasAttribute(t)||n.setAttribute(t,e)}function yt(n,t){if(n.hasAttribute("aria-label"))return;function e(){g(n,"aria-label",t())}l(e)}function Os(n,t,e){for(;t;){if(t===n)return!0;if(e?.(t))break;t=t.parentElement}return!1}function lt(n,t){u(n,"pointerup",e=>{e.button===0&&t(e)}),u(n,"keydown",e=>{ws(e)&&t(e)})}function Le(n){return Zt(n)&&(n.touches.length>1||n.changedTouches.length>1)}function $t(n){let t=$s(),e=window.requestAnimationFrame(()=>{bt(n,t),e=-1});return()=>void window.cancelAnimationFrame(e)}function Ds(n,t,e){let s,i=n,a=n.parentElement,r=n.content.firstElementChild,h=[];!r&&n.firstElementChild&&(n.innerHTML=n.firstElementChild.outerHTML,n.firstElementChild.remove(),r=n.content.firstElementChild);for(let o=0;o<t;o++)s=document.importNode(r,!0),e?.(s,o),a.insertBefore(s,i.nextSibling),h.push(s),i=s;return T(()=>{for(let o=0;o<h.length;o++)h[o].remove()}),h}function Ne(n){const t=document.createElement("template");return t.innerHTML=n,t.content}function Ie(n){return n.cloneNode(!0).firstElementChild}function Fs(n,t,e,{offsetVarName:s,xOffset:i,yOffset:a,...r}){if(!n)return;const h=e.replace(" ","-").replace("-center","");if(Q(n,"visibility",t?null:"hidden"),!t)return;const o=c=>e.includes("top")?`calc(-1 * ${c})`:c;return Jn(t,n,()=>{Zn(t,n,{placement:h,...r}).then(({x:c,y:m})=>{Object.assign(n.style,{top:`calc(${m+"px"} + ${o(a?a+"px":`var(--${s}-y-offset, 0px)`)})`,left:`calc(${c+"px"} + ${i?i+"px":`var(--${s}-x-offset, 0px)`}`})})})}function ya(n){return getComputedStyle(n).animationName!=="none"}class wt extends _{}class $a extends wt{constructor(){super(...arguments),this.Gg=-2,this.Dg=!1,this.Eg=null,this.defaultDelay=2e3}get showing(){return this.$state.controlsVisible()}show(t=0,e){this.Hg(),this.Dg||this.Fg(!0,t,e)}hide(t=this.defaultDelay,e){this.Hg(),this.Dg||this.Fg(!1,t,e)}pause(t){this.Dg=!0,this.Hg(),this.Fg(!0,0,t)}resume(t){this.Dg=!1,!this.$state.paused()&&this.Fg(!1,this.defaultDelay,t)}onConnect(){l(this.yc.bind(this));const t=this.L.bind(this),e=this.Q.bind(this);this.listen("can-play",s=>this.show(0,s)),this.listen("play",t),this.listen("pause",e),this.listen("autoplay-fail",e)}yc(){const{paused:t,started:e,autoplayError:s}=this.$state;if(t()||s()&&!e())return;const i=this.Ig.bind(this);l(()=>{const a=this.$state.pointer(),r=a==="coarse",h=[r?"touchend":"pointerup","keydown"];for(const o of h)u(this.el,o,i,{passive:!1});r||u(this.el,"pointermove",i)})}L(t){this.show(0,t),this.hide(this.defaultDelay,t)}Q(t){this.show(0,t)}Hg(){window.clearTimeout(this.Gg),this.Gg=-1}Ig(t){t.MEDIA_GESTURE||this.Dg||Le(t)||(ke(t)&&(t.key==="Escape"?(this.el?.focus(),this.Eg=null):this.Eg&&(t.preventDefault(),requestAnimationFrame(()=>{this.Eg?.focus(),this.Eg=null}))),this.show(0,t),this.hide(this.defaultDelay,t))}Fg(t,e,s){if(e===0){this.ra(t,s);return}this.Gg=window.setTimeout(()=>{this.scope&&this.ra(t&&!this.Dg,s)},e)}ra(t,e){this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&this.el?.contains(document.activeElement)&&(this.Eg=document.activeElement,requestAnimationFrame(()=>this.el?.focus())),this.dispatch("controls-change",{detail:t,trigger:e}))}}class wa{constructor(){this.priority=0,this.Oj=!0,this.ma=null,this.Jf=null,this.Nj=new Set}canRender(){return!0}attach(t){this.ma=t,t.textTracks.onchange=this.ra.bind(this)}addTrack(t){this.Nj.add(t),this.Qj(t)}removeTrack(t){t[H.oa]?.remove?.(),t[H.oa]=null,this.Nj.delete(t)}changeTrack(t){const e=t?.[H.oa];e&&e.track.mode!=="showing"&&(e.track.mode="showing"),this.Jf=t}setDisplay(t){this.Oj=t,this.ra()}detach(){this.ma&&(this.ma.textTracks.onchange=null);for(const t of this.Nj)this.removeTrack(t);this.Nj.clear(),this.ma=null,this.Jf=null}Qj(t){var e;if(!this.ma)return;const s=t[e=H.oa]??(t[e]=this.Rj(t));s instanceof HTMLElement&&(this.ma.append(s),s.track.mode=s.default?"showing":"hidden")}Rj(t){const e=document.createElement("track"),s=t.default||t.mode==="showing",i=t.src&&t.type==="vtt";return e.id=t.id,e.src=i?t.src:"https://cdn.jsdelivr.net/npm/vidstack@next/empty.vtt",e.label=t.label,e.kind=t.kind,e.default=s,t.language&&(e.srclang=t.language),s&&!i&&this.Pj(t,e.track),e}Pj(t,e){if(!(t.src&&t.type==="vtt"||e.cues?.length))for(const s of t.cues)e.addCue(s)}ra(t){for(const e of this.Nj){const s=e[H.oa]?.track;if(!s)continue;if(!this.Oj){s.mode="disabled";continue}const i=s.mode==="showing";i&&this.Pj(e,s),e.setMode(i?"showing":"disabled",t)}}}class xa{constructor(t){this.ma=null,this.Lg=[],this.Ng=!1,this.Jg=null,this.Kg=null,this.a=t;const e=t.textTracks;this.Mg=e,l(this.Qg.bind(this)),T(this.Og.bind(this)),u(e,"add",this.na.bind(this)),u(e,"remove",this.Rg.bind(this)),u(e,"mode-change",this.Jb.bind(this))}Qg(){const{$state:t,$iosControls:e}=this.a;this.Ng=t.controls()||e(),this.Jb()}add(t){this.Lg.push(t),this.Jb()}remove(t){t.detach(),this.Lg.splice(this.Lg.indexOf(t),1),this.Jb()}c(t){requestAnimationFrame(()=>{if(this.ma=t,t){this.Jg=new wa,this.Jg.attach(t);for(const e of this.Mg)this.Pg(e)}this.Jb()})}Pg(t){F(t)&&this.Jg?.addTrack(t)}Sg(t){F(t)&&this.Jg?.removeTrack(t)}na(t){this.Pg(t.detail)}Rg(t){this.Sg(t.detail)}Jb(){if(!this.ma){this.Og();return}const t=this.Mg.selected;if(this.Ng||t?.[H.qa]){this.Kg?.changeTrack(null),this.Jg?.setDisplay(!0),this.Jg?.changeTrack(t);return}if(this.Jg?.setDisplay(!1),this.Jg?.changeTrack(null),!t){this.Kg?.changeTrack(null);return}const e=this.Lg.sort((s,i)=>s.priority-i.priority).find(s=>s.canRender(t));this.Kg!==e&&(this.Kg?.detach(),e?.attach(this.ma),this.Kg=e??null),e?.changeTrack(t)}Og(){this.Jg?.detach(),this.Jg=null,this.Kg?.detach(),this.Kg=null}}var Hs;class Rs extends xs{constructor(){super(...arguments),this.Wg=[],this[Hs]=!1}get length(){return this.Wg.length}get readonly(){return this[M.Wa]}toArray(){return[...this.Wg]}[(Hs=M.Wa,Symbol.iterator)](){return this.Wg.values()}[M.ja](t,e){const s=this.Wg.length;""+s in this||Object.defineProperty(this,s,{get(){return this.Wg[s]}}),!this.Wg.includes(t)&&(this.Wg.push(t),this.dispatchEvent(new z("add",{detail:t,trigger:e})))}[M.ka](t,e){const s=this.Wg.indexOf(t);s>=0&&(this[M.Za]?.(t,e),this.Wg.splice(s,1),this.dispatchEvent(new z("remove",{detail:t,trigger:e})))}[M.Va](t){for(const e of[...this.Wg])this[M.ka](e,t);this.Wg=[],this[M.Xa](!1,t),this[M.Ya]?.()}[M.Xa](t,e){this[M.Wa]!==t&&(this[M.Wa]=t,this.dispatchEvent(new z("readonly-change",{detail:t,trigger:e})))}}class ka extends Rs{constructor(){super(...arguments),this.bb=!1,this.Xg={},this.Yg=this.Zg.bind(this)}get selected(){return this.Wg.find(t=>t.mode==="showing"&&F(t))??null}add(t,e){const s=t instanceof Me,i=s?t:new Me(t);return this.Xg[t.kind]&&t.default&&delete t.default,i.addEventListener("mode-change",this.Yg),this[M.ja](i,e),i[H.$a]=this[H.$a],this.bb&&i[H.bb](),t.default&&(this.Xg[t.kind]=i,i.mode="showing"),this}remove(t,e){if(this.Wg.includes(t))return t===this.Xg[t.kind]&&delete this.Xg[t.kind],t.mode="disabled",t[H.ya]=null,t.removeEventListener("mode-change",this.Yg),this[M.ka](t,e),this}clear(t){for(const e of[...this.Wg])this.remove(e,t);return this}getById(t){return this.Wg.find(e=>e.id===t)??null}getByKind(t){const e=Array.isArray(t)?t:[t];return this.Wg.filter(s=>e.includes(s.kind))}[H.bb](){if(!this.bb){for(const t of this.Wg)t[H.bb]();this.bb=!0}}Zg(t){const e=t.detail;if(e.mode==="showing"){const s=F(e)?["captions","subtitles"]:[e.kind];for(const i of this.Wg)i.mode==="showing"&&i!=e&&s.includes(i.kind)&&(i.mode="disabled")}this.dispatchEvent(new z("mode-change",{detail:t.detail,trigger:t}))}}const Nt=Symbol(0);class Vs extends Rs{get selected(){return this.Wg.find(t=>t.selected)??null}get selectedIndex(){return this.Wg.findIndex(t=>t.selected)}[M.Za](t,e){this[M.la](t,!1,e)}[M.ja](t,e){t[Nt]=!1,Object.defineProperty(t,"selected",{get(){return this[Nt]},set:s=>{this.readonly||(this[M._a]?.(),this[M.la](t,s))}}),super[M.ja](t,e)}[M.la](t,e,s){if(e===t[Nt])return;const i=this.selected;t[Nt]=e,(e?i!==t:i===t)&&(i&&(i[Nt]=!1),this.dispatchEvent(new z("change",{detail:{prev:i,current:this.selected},trigger:s})))}}class Ta extends Vs{getById(t){return t===""?null:this.Wg.find(e=>e.id===t)??null}}const Ea=eval,Ma=/:\s+'?"?(.*?)'?"?\)/g,Sa=/\s+not\s+/g,Pa=/\s+and\s+/g,Ca=/\s+or\s+/g,Aa=/(\d)px/g,qe=class extends xs{constructor(t,e){super(),this._g=x("true"),this.$g=new Set,this.ah=x(!0),this.$matches=D(()=>{let s=this._g();if(s==="never")return!1;for(const i of this.$g){const a=this.ch[i](),r=V(a)?`'${a}'`:a+"";s=s.replace(Ts(i),r)}return Ea(`!!(${s})`)&&this.ah()}),this.bh=e,this.ch=t,Yn(s=>{l(this.rb.bind(this)),l(this.eh.bind(this)),this.dh=s})}get query(){return At(this.bh)}get matches(){return this.$matches()}rb(){const t=this.query;if(t==="")return;if(t==="never"){this._g.set(t);return}const e=t.trim().split(/\s*,\s*/g),s=e.filter(a=>a.startsWith("@media")).join(","),i=e.filter(a=>!a.startsWith("@media"));if(s.length){const a=window.matchMedia(s.replace(/@media\s/g,"")),r=()=>void this.ah.set(a.matches);r(),u(a,"change",r)}if(i.length){const a=this.fh(i),r=Object.keys(je.record);for(const h of a.matchAll(/\(([-a-zA-Z]+)\s/g)){const o=ks(h[1]);r.includes(o)&&this.$g.add(o)}this._g.set(a)}return()=>{this.$g.clear(),this._g.set("true"),this.ah.set(!0)}}eh(){this.$matches(),this.dispatchEvent(new Event("change"))}fh(t){return t.map(e=>"("+e.replace(Ma,' == "$1")').replace(Sa,"!").replace(Pa," && ").replace(Ca," || ").replace(Aa,"$1").trim()+")").join(" || ")}destroy(){this.dh()}};qe.create=n=>{const t=p();return new qe(t.$state,n)};let Xt=qe;class ja extends Vs{constructor(){super(...arguments),this.gh=!1,this.switch="current"}get auto(){return this.gh||this.readonly}[M._a](){this[vt.Na](!1)}[M.Ya](t){this[vt.Na](!1,t)}autoSelect(t){this.readonly||this.gh||!this[vt.Ha]||(this[vt.Ha]?.(),this[vt.Na](!0,t))}[vt.Na](t,e){this.gh!==t&&(this.gh=t,this.dispatchEvent(new z("auto-change",{detail:t,trigger:e})))}}function La(n){return n instanceof HTMLAudioElement}function Na(n){return n instanceof HTMLVideoElement}function Ia(n){return La(n)||Na(n)}const qa={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Ws=new Set(["Shift","Alt","Meta","Control"]),Oa='button, [role="button"]',Bs='input, textarea, select, [contenteditable], [role^="menuitem"]';class Da extends wt{constructor(t){super(),this.hh=null,this.a=t}onConnect(){l(this.lh.bind(this))}lh(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const s=e()==="player"?this.el:document,i=x(!1);s===this.el?(this.listen("focusin",()=>i.set(!0)),this.listen("focusout",a=>{this.el.contains(a.target)||i.set(!1)})):(d(i)||i.set(document.querySelector("[data-media-player]")===this.el),u(document,"focusin",a=>{const r=a.composedPath().find(h=>h instanceof Element&&h.localName==="media-player");r!==void 0&&i.set(this.el===r)})),l(()=>{i()&&(u(s,"keyup",this.mh.bind(this)),u(s,"keydown",this.nh.bind(this)),u(s,"keydown",this.oh.bind(this),{capture:!0}))})}mh(t){const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e?.matches(Bs))return;let{method:s,value:i}=this.jh(t);if(!V(i)&&!it(i)){i?.callback(t);return}s?.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),this.hh?(this.kh(t,s==="seekForward"),this.hh=null):(this.a.remote.seek(this.ih,t),this.ih=void 0)),s?.startsWith("volume")&&this.el.querySelector("[data-media-volume-slider]")?.dispatchEvent(new KeyboardEvent("keyup",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}nh(t){if(!t.key||Ws.has(t.key))return;const e=document.activeElement;if(e?.matches(Bs)||ws(t)&&e?.matches(Oa))return;let{method:s,value:i}=this.jh(t);if(!V(i)&&!it(i)){i?.callback(t);return}if(!s&&!t.metaKey&&/[0-9]/.test(t.key)){t.preventDefault(),t.stopPropagation(),this.a.remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(s)switch(t.preventDefault(),t.stopPropagation(),s){case"seekForward":case"seekBackward":this.ee(t,s,s==="seekForward");break;case"volumeUp":case"volumeDown":const a=this.el.querySelector("[data-media-volume-slider]");if(a)a.dispatchEvent(new KeyboardEvent("keydown",{key:s==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const h=t.shiftKey?.1:.05;this.a.remote.changeVolume(this.$state.volume()+(s==="volumeUp"?+h:-h),t)}break;case"toggleFullscreen":this.a.remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const r=this.$state.playbackRate();this.a.remote.changePlaybackRate(Math.max(.25,Math.min(2,r+(s==="speedUp"?.25:-.25))),t);break;default:this.a.remote[s]?.(t)}}oh(t){Ia(t.target)&&this.jh(t).method&&t.preventDefault()}jh(t){const e={...this.$props.keyShortcuts(),...this.a.ariaKeys},s=Object.keys(e).find(i=>{const a=e[i],r=it(a)?a.join(" "):V(a)?a:a?.keys;return(it(r)?r:r?.split(" "))?.some(h=>Ha(h).replace(/Control/g,"Ctrl").split("+").every(o=>Ws.has(o)?t[o.toLowerCase()+"Key"]:t.key===o.replace("Space"," ")))});return{method:s,value:s?e[s]:null}}ph(t,e){const s=t.shiftKey?10:5;return this.ih=Math.max(0,Math.min((this.ih??this.$state.currentTime())+(e==="seekForward"?+s:-s),this.$state.duration()))}kh(t,e){this.hh?.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))}ee(t,e,s){this.$state.canSeek()&&(this.hh||(this.hh=this.el.querySelector("[data-media-time-slider]")),this.hh?this.kh(t,s):this.a.remote.seeking(this.ph(t,e),t))}}const Fa=["!","@","#","$","%","^","&","*","(",")"];function Ha(n){return n.replace(/Shift\+(\d)/g,(t,e)=>Fa[e-1])}class Ra extends _{constructor(t){super(),this.qh=t}onAttach(t){const{$props:e,ariaKeys:s}=p(),i=t.getAttribute("aria-keyshortcuts");if(i){s[this.qh]=i,T(()=>{delete s[this.qh]});return}const a=e.keyShortcuts()[this.qh];if(a){const r=it(a)?a.join(" "):V(a)?a:a?.keys;t.setAttribute("aria-keyshortcuts",it(r)?r.join(" "):r)}}}const Oe=Symbol(0),Va=["autoplay","autoplayError","canFullscreen","canPictureInPicture","canLoad","canPlay","canSeek","ended","fullscreen","loop","live","liveEdge","mediaType","muted","paused","pictureInPicture","playing","playsinline","seeking","started","streamType","viewType","waiting"],Wa={autoplay:!1,controls:!1,currentTime:0,crossorigin:null,fullscreenOrientation:"landscape",load:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",controlsDelay:2e3,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:qa,title:""};class Ba extends wt{constructor(t){super(),this.Sa=t}async onAttach(t){const e=this.$props.load();if(e==="eager")requestAnimationFrame(this.Sa);else if(e==="idle")Gn(this.Sa);else if(e==="visible"){const s=new IntersectionObserver(i=>{this.scope&&i[0].isIntersecting&&(s.disconnect(),this.Sa())});return s.observe(t),s.disconnect.bind(s)}}}class Ka{constructor(t,e){this.Hc=t,this.a=e}d(t,...e){this.Hc(new z(t,e?.[0]))}async _(t,e){const{$state:s,logger:i}=this.a;d(s.canPlay)||(this.d("can-play",{detail:t,trigger:e}),nt(),s.canPlay()&&s.autoplay()&&!s.started()&&await this.vh(e))}async vh(t){const{player:e,$state:s}=this.a;s.autoplaying.set(!0);const i=new z("autoplay-attempt",{trigger:t});try{await e.play(i)}catch{}}}var K={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},Ks=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],zs=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],Qs=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],B=typeof window<"u"&&typeof window.document<"u"?window.document:{},U="fullscreenEnabled"in B&&Object.keys(K)||Ks[0]in B&&Ks||zs[0]in B&&zs||Qs[0]in B&&Qs||[],za={requestFullscreen:function(n){return n[U[K.requestFullscreen]]()},requestFullscreenFunction:function(n){return n[U[K.requestFullscreen]]},get exitFullscreen(){return B[U[K.exitFullscreen]].bind(B)},get fullscreenPseudoClass(){return":"+U[K.fullscreen]},addEventListener:function(n,t,e){return B.addEventListener(U[K[n]],t,e)},removeEventListener:function(n,t,e){return B.removeEventListener(U[K[n]],t,e)},get fullscreenEnabled(){return!!B[U[K.fullscreenEnabled]]},set fullscreenEnabled(n){},get fullscreenElement(){return B[U[K.fullscreenElement]]},set fullscreenElement(n){},get onfullscreenchange(){return B[("on"+U[K.fullscreenchange]).toLowerCase()]},set onfullscreenchange(n){return B[("on"+U[K.fullscreenchange]).toLowerCase()]=n},get onfullscreenerror(){return B[("on"+U[K.fullscreenerror]).toLowerCase()]},set onfullscreenerror(n){return B[("on"+U[K.fullscreenerror]).toLowerCase()]=n}},ct=za;const _t=ct.fullscreenEnabled;class Qa extends _{constructor(){super(...arguments),this.ri=!1,this.si=!1}get active(){return this.si}get supported(){return _t}onConnect(){u(ct,"fullscreenchange",this.Hh.bind(this)),u(ct,"fullscreenerror",this.Fh.bind(this)),T(this.Gf.bind(this))}async Gf(){_t&&await this.exit()}Hh(t){const e=De(this.el);e!==this.si&&(e||(this.ri=!1),this.si=e,this.dispatch("fullscreen-change",{detail:e,trigger:t}))}Fh(t){this.ri&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),this.ri=!1)}async enter(){try{return this.ri=!0,!this.el||De(this.el)?void 0:(Us(),ct.requestFullscreen(this.el))}catch(t){throw this.ri=!1,t}}async exit(){if(!(!this.el||!De(this.el)))return Us(),ct.exitFullscreen()}}function Ua(){return _t}function De(n){if(ct.fullscreenElement===n)return!0;try{return n.matches(ct.fullscreenPseudoClass)}catch{return!1}}function Us(){if(!_t)throw Error("[vidstack] no fullscreen API")}const Js=class Qn extends _{constructor(){super(...arguments),this.yb=x(this.Ei()),this.Ci=x(!1)}get type(){return this.yb()}get locked(){return this.Ci()}get portrait(){return this.yb().startsWith("portrait")}get landscape(){return this.yb().startsWith("landscape")}get supported(){return Qn.supported}onConnect(){if(this.supported)u(screen.orientation,"change",this.Fi.bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=this.Fi.bind(this),T(()=>t.onchange=null)}T(this.Gf.bind(this))}async Gf(){this.supported&&this.Ci()&&await this.unlock()}Fi(t){this.yb.set(this.Ei()),this.dispatch("orientation-change",{detail:{orientation:d(this.yb),lock:this.Di},trigger:t})}async lock(t){d(this.Ci)||this.Di===t||(this.Gi(),await screen.orientation.lock(t),this.Ci.set(!0),this.Di=t)}async unlock(){d(this.Ci)&&(this.Gi(),this.Di=void 0,await screen.orientation.unlock(),this.Ci.set(!1))}Gi(){if(!this.supported)throw Error("[vidstack] no orientation API")}Ei(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"}};Js.supported=Cs();let Zs=Js;class Ja{constructor(){this.xh=new Map}hc(t,e){this.xh.has(t)||this.xh.set(t,new Set),this.xh.get(t).add(e)}gi(t,e){const s=this.xh.get(t);if(s)for(const i of s)e(i);this.xh.delete(t)}Bh(t){this.xh.delete(t)}Li(t){return this.xh.get(t)?.size??0}Va(){this.xh.clear()}}class Za{constructor(){this.ee=!1,this.Ch=!1,this.zh=!1,this.xh=new Ja}}class Ya extends wt{constructor(t,e,s){super(),this.Ah=!1,this.ic=t,this.wh=e,this.a=s,this.t=s.$provider,this.Ic=new $a,this.yh=new Qa,this.Ed=new Zs}onAttach(){this.listen("fullscreen-change",this.Hh.bind(this))}onConnect(){const t=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),e=this.Ih.bind(this);for(const s of t)s.startsWith("media-")&&this.listen(s,e);l(this.Jh.bind(this)),l(this.Kh.bind(this)),l(this.Lh.bind(this))}Ih(t){t.stopPropagation(),d(this.t)&&this[t.type]?.(t)}async Fc(t){const{canPlay:e,paused:s,ended:i,autoplaying:a,seekableStart:r}=this.$state;if(d(s)){if(t?.type!=="media-play-request"){this.dispatchEvent(this.createEvent("media-play-request",{trigger:t}));return}this.wh.xh.hc("play",t);try{const h=d(this.t);return Fe(h,d(e)),d(i)&&(h.currentTime=r()+.1),await h.play()}catch(h){const o=this.createEvent("play-fail",{detail:Ce(h),trigger:t});throw o.autoplay=a(),this.ic.Hc(o),h}}}async Ec(t){const{canPlay:e,paused:s}=this.$state;if(d(s))return;if(t?.type!=="media-pause-request"){this.dispatchEvent(this.createEvent("media-pause-request",{trigger:t}));return}this.wh.xh.hc("pause",t);const i=d(this.t);return Fe(i,d(e)),i.pause()}Nc(t){const{canPlay:e,live:s,liveEdge:i,canSeek:a,liveSyncPosition:r,seekableEnd:h,userBehindLiveEdge:o}=this.$state;if(o.set(!1),d(()=>!s()||i()||!a()))return;const c=d(this.t);Fe(c,d(e)),c.currentTime=r()??h()-2}async Jc(t="prefer-media",e){const s=this.Dh(t);if(Ys(t,s),!s.active){if(d(this.$state.pictureInPicture)&&(this.Ah=!0,await this.Mc(e)),e?.type!=="media-enter-fullscreen-request"){this.dispatchEvent(this.createEvent("media-enter-fullscreen-request",{detail:t,trigger:e}));return}return this.wh.xh.hc("fullscreen",e),s.enter()}}async Kc(t="prefer-media",e){const s=this.Dh(t);if(Ys(t,s),!!s.active){if(e?.type!=="media-exit-fullscreen-request"){this.dispatchEvent(this.createEvent("media-exit-fullscreen-request",{detail:t,trigger:e}));return}try{this.wh.xh.hc("fullscreen",e);const i=await s.exit();return this.Ah&&d(this.$state.canPictureInPicture)&&await this.Lc(),i}finally{this.Ah=!1}}}Dh(t){const e=d(this.t);return t==="prefer-media"&&this.yh.supported||t==="media"?this.yh:e?.fullscreen}async Lc(t){if(this.Eh(),!this.$state.pictureInPicture()){if(t?.type!=="media-enter-pip-request"){this.dispatchEvent(this.createEvent("media-enter-pip-request",{trigger:t}));return}return this.wh.xh.hc("pip",t),await this.t().pictureInPicture.enter()}}async Mc(t){if(this.Eh(),!!this.$state.pictureInPicture()){if(t?.type!=="media-exit-pip-request"){this.dispatchEvent(this.createEvent("media-exit-pip-request",{trigger:t}));return}return this.wh.xh.hc("pip",t),await this.t().pictureInPicture.exit()}}Eh(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")}Jh(){this.Ic.defaultDelay=this.$props.controlsDelay()}Kh(){const{canLoad:t,canFullscreen:e}=this.$state,s=this.yh.supported||this.t()?.fullscreen?.supported||!1;t()&&d(e)===s||e.set(s)}Lh(){const{canLoad:t,canPictureInPicture:e}=this.$state,s=this.t()?.pictureInPicture?.supported||!1;t()&&d(e)===s||e.set(s)}"media-audio-track-change-request"(t){if(this.a.audioTracks.readonly)return;const e=t.detail,s=this.a.audioTracks[e];s&&(this.wh.xh.hc("audioTrack",t),s.selected=!0)}async"media-enter-fullscreen-request"(t){try{await this.Jc(t.detail,t)}catch(e){this.Fh(e,t)}}async"media-exit-fullscreen-request"(t){try{await this.Kc(t.detail,t)}catch(e){this.Fh(e,t)}}async Hh(t){const e=d(this.$props.fullscreenOrientation),s=t.detail;if(!(Ct(e)||!this.Ed.supported))if(s){if(this.Ed.locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else this.Ed.locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})}Fh(t,e){this.ic.Hc(this.createEvent("fullscreen-error",{detail:Ce(t)}))}async"media-orientation-lock-request"(t){try{this.wh.xh.hc("orientation",t),await this.Ed.lock(t.detail)}catch{this.wh.xh.Bh("orientation")}}async"media-orientation-unlock-request"(t){try{this.wh.xh.hc("orientation",t),await this.Ed.unlock()}catch{this.wh.xh.Bh("orientation")}}async"media-enter-pip-request"(t){try{await this.Lc(t)}catch(e){this.Gh(e,t)}}async"media-exit-pip-request"(t){try{await this.Mc(t)}catch(e){this.Gh(e,t)}}Gh(t,e){this.ic.Hc(this.createEvent("picture-in-picture-error",{detail:Ce(t)}))}"media-live-edge-request"(t){const{live:e,liveEdge:s,canSeek:i}=this.$state;if(!(!e()||s()||!i())){this.wh.xh.hc("seeked",t);try{this.Nc()}catch{}}}"media-loop-request"(t){window.requestAnimationFrame(async()=>{try{this.wh.Ch=!0,this.wh.zh=!0,await this.Fc(t)}catch{this.wh.Ch=!1,this.wh.zh=!1}})}async"media-pause-request"(t){if(!this.$state.paused())try{await this.Ec(t)}catch{this.wh.xh.Bh("pause")}}async"media-play-request"(t){if(this.$state.paused())try{await this.Fc(t)}catch{}}"media-rate-change-request"(t){this.$state.playbackRate()!==t.detail&&(this.wh.xh.hc("rate",t),this.t().playbackRate=t.detail)}"media-quality-change-request"(t){if(this.a.qualities.readonly)return;this.wh.xh.hc("quality",t);const e=t.detail;if(e<0)this.a.qualities.autoSelect(t);else{const s=this.a.qualities[e];s&&(s.selected=!0)}}"media-pause-controls-request"(t){this.wh.xh.hc("controls",t),this.Ic.pause(t)}"media-resume-controls-request"(t){this.wh.xh.hc("controls",t),this.Ic.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:s,ended:i,canSeek:a,live:r,userBehindLiveEdge:h}=this.$state;i()&&(this.wh.zh=!0),this.wh.ee=!1,this.wh.xh.Bh("seeking");const o=Math.min(Math.max(e()+.1,t.detail),s()-.1);!Number.isFinite(o)||!a()||(this.wh.xh.hc("seeked",t),this.t().currentTime=o,r()&&t.isOriginTrusted&&Math.abs(s()-o)>=2&&h.set(!0))}"media-seeking-request"(t){this.wh.xh.hc("seeking",t),this.$state.seeking.set(!0),this.wh.ee=!0}"media-start-loading"(t){this.$state.canLoad()||(this.wh.xh.hc("load",t),this.ic.Hc(this.createEvent("can-load")))}"media-text-track-change-request"(t){const{index:e,mode:s}=t.detail,i=this.a.textTracks[e];i&&(this.wh.xh.hc("textTrack",t),i.setMode(s,t))}"media-mute-request"(t){this.$state.muted()||(this.wh.xh.hc("volume",t),this.t().muted=!0)}"media-unmute-request"(t){const{muted:e,volume:s}=this.$state;e()&&(this.wh.xh.hc("volume",t),this.a.$provider().muted=!1,s()===0&&(this.wh.xh.hc("volume",t),this.t().volume=.25))}"media-volume-change-request"(t){const{muted:e,volume:s}=this.$state,i=t.detail;s()!==i&&(this.wh.xh.hc("volume",t),this.t().volume=i,i>0&&e()&&(this.wh.xh.hc("volume",t),this.t().muted=!1))}}function Fe(n,t){if(!(n&&t))throw Error("[vidstack] media not ready")}function Ys(n,t){if(!t?.supported)throw Error("[vidstack] no fullscreen support")}var Ga=Xa;function Xa(n,t,e){var s=null,i=null,a=function(){s&&(clearTimeout(s),i=null,s=null)},r=function(){var o=i;a(),o&&o()},h=function(){if(!t)return n.apply(this,arguments);var o=this,c=arguments,m=e&&!s;if(a(),i=function(){n.apply(o,c)},s=setTimeout(function(){if(s=null,!m){var f=i;return i=null,f()}},t),m)return i()};return h.cancel=a,h.flush=r,h}var te=_a;function _a(n,t,e){var s=null,i=null,a=e&&e.leading,r=e&&e.trailing;a==null&&(a=!0),r==null&&(r=!a),a==!0&&(r=!1);var h=function(){s&&(clearTimeout(s),s=null)},o=function(){var m=i;h(),m&&m()},c=function(){var m=a&&!s,f=this,k=arguments;if(i=function(){return n.apply(f,k)},s||(s=setTimeout(function(){if(s=null,r)return i()},t)),m)return m=!1,i()};return c.cancel=h,c.flush=o,c}const tr=new Set(["autoplay","autoplay-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);class er extends wt{constructor(t,e){super(),this.Mh=new Map,this.Rh=!1,this.Qh=!1,this.seeking=te(s=>{const{seeking:i,currentTime:a,paused:r}=this.$state;i.set(!0),a.set(s.detail),this.Nh("seeking",s),r()&&(this.Oh=s,this.Th())},150,{leading:!0}),this.Th=Ga(()=>{if(!this.Oh)return;this.Rh=!0;const{waiting:s,playing:i}=this.$state;s.set(!0),i.set(!1);const a=this.createEvent("waiting",{trigger:this.Oh});this.Mh.set("waiting",a),this.dispatch(a),this.Oh=void 0,this.Rh=!1},300),this.wh=t,this.a=e}onAttach(t){t.setAttribute("aria-busy","true"),this.listen("fullscreen-change",this["fullscreen-change"].bind(this)),this.listen("fullscreen-error",this["fullscreen-error"].bind(this)),this.listen("orientation-change",this["orientation-change"].bind(this))}onConnect(t){this._h(),this.$h(),this.ai(),this.bi(),T(this.ci.bind(this))}Hc(t){if(!this.scope)return;const e=t.type;this[t.type]?.(t),tr.has(e)&&this.Mh.set(e,t),this.dispatch(t)}bi(){this.Qh&&(this.a.$provider()?.paused&&requestAnimationFrame(()=>{this.scope&&this.a.remote.play(new z("dom-connect"))}),this.Qh=!1)}ci(){this.Qh||(this.Qh=!this.a.$state.paused(),this.a.$provider()?.pause())}Ph(){this.Uh(),this.wh.zh=!1,this.wh.Ch=!1,this.Rh=!1,this.Oh=void 0,this.Mh.clear()}Nh(t,e){this.wh.xh.gi(t,s=>{e.request=s,L(e,s)})}_h(){this.Sh(),this.Vh();const t=this.a.textTracks;u(t,"add",this.Sh.bind(this)),u(t,"remove",this.Sh.bind(this)),u(t,"mode-change",this.Vh.bind(this))}$h(){const t=this.a.qualities;u(t,"add",this.Wh.bind(this)),u(t,"remove",this.Wh.bind(this)),u(t,"change",this.Ja.bind(this)),u(t,"auto-change",this.di.bind(this)),u(t,"readonly-change",this.ei.bind(this))}ai(){const t=this.a.audioTracks;u(t,"add",this.Xh.bind(this)),u(t,"remove",this.Xh.bind(this)),u(t,"change",this.fi.bind(this))}Sh(t){const{textTracks:e}=this.$state;e.set(this.a.textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})}Vh(t){t&&this.Nh("textTrack",t);const e=this.a.textTracks.selected,{textTrack:s}=this.$state;s()!==e&&(s.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))}Xh(t){const{audioTracks:e}=this.$state;e.set(this.a.audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})}fi(t){const{audioTrack:e}=this.$state;e.set(this.a.audioTracks.selected),this.Nh("audioTrack",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})}Wh(t){const{qualities:e}=this.$state;e.set(this.a.qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})}Ja(t){const{quality:e}=this.$state;e.set(this.a.qualities.selected),this.Nh("quality",t),this.dispatch("quality-change",{detail:e(),trigger:t})}di(){this.$state.autoQuality.set(this.a.qualities.auto)}ei(){this.$state.canSetQuality.set(!this.a.qualities.readonly)}"provider-change"(t){const e=this.a.$provider(),s=t.detail;e?.type!==s?.type&&(e?.destroy?.(),e?.scope?.dispose(),this.a.$provider.set(t.detail),e&&t.detail===null&&this.Yh(t))}"provider-loader-change"(t){}autoplay(t){this.$state.autoplayError.set(null)}"autoplay-fail"(t){this.$state.autoplayError.set(t.detail),this.Ph()}"can-load"(t){this.$state.canLoad.set(!0),this.Mh.set("can-load",t),this.Nh("load",t),this.a.textTracks[H.bb]()}"media-type-change"(t){L(t,this.Mh.get("source-change"));const e=this.$state.viewType();this.$state.mediaType.set(t.detail);const s=this.$state.providedViewType(),i=s==="unknown"?t.detail:s;e!==i&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:i,trigger:t}))})},0)}"stream-type-change"(t){const{streamType:e,inferredStreamType:s}=this.$state;L(t,this.Mh.get("source-change")),s.set(t.detail),t.detail=e()}"rate-change"(t){this.$state.playbackRate.set(t.detail),this.Nh("rate",t)}"sources-change"(t){this.$state.sources.set(t.detail)}"source-change"(t){L(t,this.Mh.get("sources-change")),this.Yh(t),this.Mh.set(t.type,t),this.$state.source.set(t.detail),this.el?.setAttribute("aria-busy","true")}Yh(t){this.a.audioTracks[M.Va](t),this.a.qualities[M.Va](t),this.Ph(),ba(this.a.$state)}abort(t){const e=this.Mh.get("source-change");L(t,e),e?.trigger||L(t,this.Mh.get("can-load"))}"load-start"(t){L(t,this.Mh.get("source-change"))}error(t){this.$state.error.set(t.detail),L(t,this.Mh.get("abort"))}"loaded-metadata"(t){L(t,this.Mh.get("load-start"))}"loaded-data"(t){L(t,this.Mh.get("load-start"))}"can-play"(t){t.trigger?.type!=="loadedmetadata"&&L(t,this.Mh.get("loaded-metadata")),this.Zh(t.detail),this.el?.setAttribute("aria-busy","false")}"can-play-through"(t){this.Zh(t.detail),L(t,this.Mh.get("can-play"))}Zh(t){const{seekable:e,seekableEnd:s,buffered:i,duration:a,canPlay:r}=this.$state;r.set(!0),i.set(t.buffered),e.set(t.seekable),a.set(s())}"duration-change"(t){const{live:e,duration:s}=this.$state,i=t.detail;e()||s.set(Number.isNaN(i)?0:i)}progress(t){const{buffered:e,seekable:s,live:i,duration:a,seekableEnd:r}=this.$state,h=t.detail;e.set(h.buffered),s.set(h.seekable),i()&&(a.set(r),this.dispatch("duration-change",{detail:r(),trigger:t}))}play(t){const{paused:e,autoplayError:s,ended:i,autoplaying:a,playsinline:r,pointer:h,muted:o}=this.$state;if(t.autoplay=a(),this.wh.Ch||!e()){t.stopImmediatePropagation();return}L(t,this.Mh.get("waiting")),this.Nh("play",t),this.Mh.set("play",t),e.set(!1),s.set(null),a()&&(this.Hc(this.createEvent("autoplay",{detail:{muted:o()},trigger:t})),a.set(!1)),(i()||this.wh.zh)&&(this.wh.zh=!1,i.set(!1),this.Hc(this.createEvent("replay",{trigger:t}))),!r()&&h()==="coarse"&&this.a.remote.enterFullscreen("prefer-media",t)}"play-fail"(t){const{muted:e,autoplaying:s}=this.$state;L(t,this.Mh.get("play")),this.Nh("play",t);const{paused:i,playing:a}=this.$state;i.set(!0),a.set(!1),this.Ph(),this.Mh.set("play-fail",t),s()&&(this.Hc(this.createEvent("autoplay-fail",{detail:{muted:e(),error:t.detail},trigger:t})),s.set(!1))}playing(t){const e=this.Mh.get("play");e?(L(t,this.Mh.get("waiting")),L(t,e)):L(t,this.Mh.get("seeked")),setTimeout(()=>this.Ph(),0);const{paused:s,playing:i,live:a,liveSyncPosition:r,seekableEnd:h,started:o,currentTime:c,seeking:m,ended:f}=this.$state;if(s.set(!1),i.set(!0),m.set(!1),f.set(!1),this.wh.Ch){t.stopImmediatePropagation(),this.wh.Ch=!1;return}if(a()&&!o()&&c()===0){const k=r()??h()-2;Number.isFinite(k)&&(this.a.$provider().currentTime=k)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.Hc(this.createEvent("started",{trigger:t})))}pause(t){if(this.el?.isConnected||(this.Qh=!0),this.wh.Ch){t.stopImmediatePropagation();return}L(t,this.Mh.get("seeked")),this.Nh("pause",t);const{paused:e,playing:s,seeking:i}=this.$state;e.set(!0),s.set(!1),i.set(!1),this.Ph()}"time-update"(t){const{currentTime:e,played:s,waiting:i}=this.$state,a=t.detail;e.set(a.currentTime),s.set(a.played),i.set(!1);for(const r of this.a.textTracks)r[H.ab](a.currentTime,t)}"volume-change"(t){const{volume:e,muted:s}=this.$state,i=t.detail;e.set(i.volume),s.set(i.muted||i.volume===0),this.Nh("volume",t)}seeked(t){const{seeking:e,currentTime:s,paused:i,duration:a,ended:r}=this.$state;if(this.wh.ee)e.set(!0),t.stopImmediatePropagation();else if(e()){const h=this.Mh.get("waiting");L(t,h),h?.trigger?.type!=="seeking"&&L(t,this.Mh.get("seeking")),i()&&this.Uh(),e.set(!1),t.detail!==a()&&r.set(!1),s.set(t.detail),this.Nh("seeked",t);const o=t.originEvent;o&&o.isTrusted&&!/seek/.test(o.type)&&this.started(t)}}waiting(t){this.Rh||this.wh.ee||(t.stopImmediatePropagation(),this.Oh=t,this.Th())}ended(t){if(this.wh.Ch){t.stopImmediatePropagation();return}const{paused:e,playing:s,seeking:i,ended:a}=this.$state;e.set(!0),s.set(!1),i.set(!1),a.set(!0),this.Ph()}Uh(){this.Th.cancel(),this.$state.waiting.set(!1)}"fullscreen-change"(t){this.$state.fullscreen.set(t.detail),this.Nh("fullscreen",t)}"fullscreen-error"(t){this.Nh("fullscreen",t)}"orientation-change"(t){this.Nh("orientation",t)}"picture-in-picture-change"(t){this.$state.pictureInPicture.set(t.detail),this.Nh("pip",t)}"picture-in-picture-error"(t){this.Nh("pip",t)}"poster-change"(t){this.$state.poster.set(t.detail)}}class sr extends wt{onSetup(){l(this.ii.bind(this)),l(this.ji.bind(this)),l(this.ki.bind(this)),l(this.li.bind(this)),l(this.mi.bind(this)),l(this.ni.bind(this)),l(this.oi.bind(this)),l(this.pi.bind(this)),l(this.qi.bind(this))}hi(){}ii(){const t=this.$props.autoplay();this.$state.autoplay.set(t),this.dispatch("autoplay-change",{detail:t})}ki(){const t=this.$props.loop();this.$state.loop.set(t),this.dispatch("loop-change",{detail:t})}li(){const t=this.$props.controls();this.$state.controls.set(t)}ji(){const t=this.$props.poster();this.$state.poster.set(t),this.dispatch("poster-change",{detail:t})}mi(){const t=this.$props.crossorigin();this.$state.crossorigin.set(t===!0?"":t)}ni(){const t=this.$props.playsinline();this.$state.playsinline.set(t),this.dispatch("playsinline-change",{detail:t})}pi(){this.dispatch("live-change",{detail:this.$state.live()})}oi(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())}qi(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})}}let He=x(!1);u(document,"pointerdown",()=>{He.set(!1)}),u(document,"keydown",n=>{n.metaKey||n.altKey||n.ctrlKey||He.set(!0)});class X extends _{constructor(){super(...arguments),this.xi=x(!1)}onConnect(t){l(()=>{if(!He()){this.xi.set(!1),ee(t,!1),this.listen("pointerenter",this.yi.bind(this)),this.listen("pointerleave",this.zi.bind(this));return}const e=document.activeElement===t;this.xi.set(e),ee(t,e),this.listen("focus",this.Ai.bind(this)),this.listen("blur",this.Bi.bind(this))})}focused(){return this.xi()}Ai(){this.xi.set(!0),ee(this.el,!0)}Bi(){this.xi.set(!1),ee(this.el,!1)}yi(){Gs(this.el,!0)}zi(){Gs(this.el,!1)}}function ee(n,t){g(n,"data-focus",t),g(n,"data-hocus",t)}function Gs(n,t){g(n,"data-hocus",t),g(n,"data-hover",t)}class ir{constructor(){this.Hi=!1,this.Ii=Es(),this.xh=new Map}get Li(){return this.xh.size}get Mi(){return this.Hi}async Ni(){this.Hi||await this.Ii.promise}hc(t,e){if(this.Hi){e();return}this.xh.delete(t),this.xh.set(t,e)}gi(t){this.xh.get(t)?.(),this.xh.delete(t)}ba(){this.Ji(),this.Hi=!0,this.xh.size>0&&this.Ji()}v(){this.Hi=!1}Va(){this.v(),this.xh.clear(),this.Ki()}Ji(){for(const t of this.xh.keys())this.gi(t);this.Ki()}Ki(){this.Ii.resolve(),this.Ii=Es()}}var nr=Object.defineProperty,ar=Object.getOwnPropertyDescriptor,C=(n,t,e,s)=>{for(var i=s>1?void 0:s?ar(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&nr(t,e,i),i};const S=class we extends y{constructor(){super(),this.canPlayQueue=new ir,this.tc(),new sr;const t={player:this,scope:$s(),qualities:new ja,audioTracks:new Ta,$provider:x(null),$props:this.$props,$state:this.$state};t.remote=new va(void 0),t.remote.setPlayer(this),t.$iosControls=D(this.uc.bind(this)),t.textTracks=new ka,t.textTracks[H.$a]=this.$state.crossorigin,t.textRenderers=new xa(t),t.ariaKeys={},this.a=t,G(qs,t),this.orientation=new Zs,new X,new Da(t);const e=new Za;this.ic=new er(e,t),this.gc=new Ya(this.ic,e,t),t.delegate=new Ka(this.ic.Hc.bind(this.ic),t),new Ba(this.startLoading.bind(this))}get t(){return this.a.$provider()}onSetup(){this.vc(),l(this.wc.bind(this)),l(this.xc.bind(this)),l(this.yc.bind(this)),l(this.zc.bind(this)),l(this.Ac.bind(this)),l(this.Bc.bind(this)),l(this.Cc.bind(this))}onAttach(t){t.setAttribute("data-media-player",""),E(t,"tabindex","0"),E(t,"role","region"),l(this.kc.bind(this)),l(this.lc.bind(this)),u(t,"find-media-player",this.Dc.bind(this))}onConnect(t){As&&g(t,"data-iphone",""),aa().then(this.$state.canSetVolume.set);const e=window.matchMedia("(pointer: coarse)");this.mc(e),e.onchange=this.mc.bind(this);const s=new ResizeObserver(ht(this.jc.bind(this)));s.observe(t),l(this.jc.bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),T(()=>{s.disconnect(),e.onchange=null})}onDestroy(){this.a.player=null,this.canPlayQueue.Va()}tc(){const t={viewType:"providedViewType",streamType:"providedStreamType"};for(const e of Object.keys(this.$props))this.$state[t[e]??e]?.set(this.$props[e]());l(this.nc.bind(this)),this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)}kc(){const{title:t}=this.$props,{live:e,viewType:s}=this.$state,i=e(),a=Xn(s()),r=a!=="Unknown"?`${i?"Live ":""}${a}`:i?"Live":"Media",h=t();h&&(this.el?.setAttribute("data-title",h),this.el?.removeAttribute("title"));const o=this.el?.getAttribute("data-title")||"";this.$state.title.set(o),g(this.el,"aria-label",o?`${r} - ${o}`:r+" Player")}lc(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),g(this.el,"data-orientation",t),this.jc()}wc(){this.$state.canPlay()&&this.t?this.canPlayQueue.ba():this.canPlayQueue.v()}nc(){this.$state.providedViewType.set(this.$props.viewType()),this.$state.providedStreamType.set(this.$props.streamType())}vc(){if(we[Oe]){this.setAttributes(we[Oe]);return}const t={"data-captions":function(){const s=this.$state.textTrack();return!!s&&F(s)},"data-ios-controls":function(){return this.a.$iosControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canPlay:s,waiting:i}=this.$state;return!s()||i()},"data-error":function(){const{error:s}=this.$state;return!!s()}},e={canPictureInPicture:"can-pip",pictureInPicture:"pip"};for(const s of Va){const i="data-"+(e[s]??Ts(s));t[i]=function(){return this.$state[s]()}}delete t.title,we[Oe]=t,this.setAttributes(t)}Dc(t){t.detail(this)}jc(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),Q(this.el,"--player-width",t+"px"),Q(this.el,"--player-height",e+"px")}mc(t){const e=t.matches?"coarse":"fine";g(this.el,"data-pointer",e),this.$state.pointer.set(e),this.jc()}uc(){const{playsinline:t,fullscreen:e}=this.$state;return As&&!Ua()&&this.$state.mediaType()==="video"&&(!t()||e())}get provider(){return this.t}get controls(){return this.gc.Ic}get qualities(){return this.a.qualities}get audioTracks(){return this.a.audioTracks}get textTracks(){return this.a.textTracks}get textRenderers(){return this.a.textRenderers}get paused(){return this.t?.paused??!0}set paused(t){this.oc(t)}yc(){this.oc(this.$props.paused())}oc(t){t?this.canPlayQueue.hc("paused",()=>this.gc.Ec()):this.canPlayQueue.hc("paused",()=>this.gc.Fc())}get muted(){return this.t?.muted??!1}set muted(t){this.pc(t)}xc(){this.pc(this.$props.muted())}pc(t){this.canPlayQueue.hc("muted",()=>this.t.muted=t)}get currentTime(){return this.t?.currentTime??0}set currentTime(t){this.qc(t)}Ac(){this.qc(this.$props.currentTime())}qc(t){this.canPlayQueue.hc("currentTime",()=>{const e=this.t;t!==e.currentTime&&d(()=>{const s=Math.min(Math.max(this.$state.seekableStart()+.1,t),this.$state.seekableEnd()-.1);Number.isFinite(s)&&(e.currentTime=s)})})}get volume(){return this.t?.volume??1}set volume(t){this.rc(t)}zc(){this.rc(this.$props.volume())}rc(t){const e=Te(0,t,1);this.canPlayQueue.hc("volume",()=>this.t.volume=e)}get playbackRate(){return this.t?.playbackRate??1}set playbackRate(t){this.sc(t)}Cc(){this.sc(this.$props.playbackRate())}sc(t){this.canPlayQueue.hc("rate",()=>this.t.playbackRate=t)}Bc(){this.Gc(this.$props.playsinline())}Gc(t){this.canPlayQueue.hc("playsinline",()=>this.t.playsinline=t)}async play(t){return this.gc.Fc(t)}async pause(t){return this.gc.Ec(t)}async enterFullscreen(t,e){return this.gc.Jc(t,e)}async exitFullscreen(t,e){return this.gc.Kc(t,e)}enterPictureInPicture(t){return this.gc.Lc(t)}exitPictureInPicture(t){return this.gc.Mc(t)}seekToLiveEdge(t){this.gc.Nc(t)}startLoading(t){this.a.delegate.d("can-load",{trigger:t})}matchQuery(t){return bt(()=>Xt.create(t),this.scope)}destroy(){this.a.remote.setPlayer(null),this.dispatch("destroy")}};S.props=Wa,S.state=je,C([w],S.prototype,"canPlayQueue",2),C([w],S.prototype,"provider",1),C([w],S.prototype,"controls",1),C([w],S.prototype,"orientation",2),C([w],S.prototype,"qualities",1),C([w],S.prototype,"audioTracks",1),C([w],S.prototype,"textTracks",1),C([w],S.prototype,"textRenderers",1),C([w],S.prototype,"paused",1),C([w],S.prototype,"muted",1),C([w],S.prototype,"currentTime",1),C([w],S.prototype,"volume",1),C([w],S.prototype,"playbackRate",1),C([N],S.prototype,"play",1),C([N],S.prototype,"pause",1),C([N],S.prototype,"enterFullscreen",1),C([N],S.prototype,"exitFullscreen",1),C([N],S.prototype,"enterPictureInPicture",1),C([N],S.prototype,"exitPictureInPicture",1),C([N],S.prototype,"seekToLiveEdge",1),C([N],S.prototype,"startLoading",1),C([N],S.prototype,"matchQuery",1);let rr=S;class or{canPlay({src:t,type:e}){return V(t)?ra.test(t)||oa.has(e)||t.startsWith("blob:")&&e==="audio/object":e==="audio/object"}mediaType(){return"audio"}async load(){return new(await import("./providers/vidstack-audio.js")).AudioProvider(this.target)}}class Xs{canPlay(t){return V(t.src)?ha.test(t.src)||la.has(t.type)||t.src.startsWith("blob:")&&t.type==="video/object"||Ee(t)&&ca():t.type==="video/object"}mediaType(){return"video"}async load(t){return new(await import("./providers/vidstack-video.js")).VideoProvider(this.target,t)}}const _s=class Un extends Xs{preconnect(){Se("https://cdn.jsdelivr.net","preconnect")}canPlay(t){return Un.supported&&Ee(t)}async load(t){return new(await import("./providers/vidstack-hls.js")).HLSProvider(this.target,t)}};_s.supported=js();let hr=_s;function ti(n,t){return fetch(n,t).then(e=>e.text()).then(e=>{const s=lr(e);if(s)return ti(/^https?:/.test(s)?s:new URL(s,n).href,t);const i=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(e)?"on-demand":"live";return i==="live"&&cr(e)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(e)||e.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":i})}function lr(n){const t=n.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return t?t[0].split(`
`)[1].trim():null}function cr(n){const t=n.split(`
`);for(const e of t)if(e.startsWith("#EXT-X-TARGETDURATION")){const s=parseFloat(e.split(":")[1]);if(!isNaN(s))return s}return-1}const ei=Symbol(0);class dr{constructor(t,e,s){this.Oi=!1,this.Rc=t,this.a=e,this.Oc=s;const i=new hr,a=new Xs,r=new or;this.Pi=D(()=>e.$props.preferNativeHLS()?[a,r,i]:[i,a,r]);const{$state:h}=e;h.sources.set(si(e.$props.src()));for(const o of h.sources()){const c=this.Pi().find(f=>f.canPlay(o));if(!c)continue;const m=c.mediaType(o);this.a.$state.source.set(o),this.a.$state.mediaType.set(m),this.a.$state.inferredViewType.set(m),this.Oc.set(c),this.Oi=!0}}connect(){const t=this.Oc();this.Oi&&(this.Qi(this.a.$state.source(),t),this.Ri(t),this.Oi=!1),l(this.Ti.bind(this)),l(this.Ui.bind(this)),l(this.Vi.bind(this)),l(this.Wi.bind(this))}Ti(){this.a.delegate.d("sources-change",{detail:[...si(this.a.$props.src()),...this.Rc()]})}Ui(){const{$state:t}=this.a,e=t.sources(),s=d(t.source),i=this.Si(s,e);if(e[0]?.src&&!i.src&&!i.type){const{crossorigin:a}=t,r=Pe(a()),h=new AbortController;return Promise.all(e.map(o=>V(o.src)&&o.type==="?"?fetch(o.src,{method:"HEAD",credentials:r,signal:h.signal}).then(c=>(o.type=c.headers.get("content-type")||"??",o)).catch(()=>o):o)).then(o=>{h.signal.aborted||(this.Si(d(t.source),o),nt())}),()=>h.abort()}nt()}Si(t,e){let s={src:"",type:""},i=null;for(const a of e){const r=d(this.Pi).find(h=>h.canPlay(a));r&&(s=a,i=r)}return ii(t,s)||this.Qi(s,i),i!==d(this.Oc)&&this.Ri(i),s}Qi(t,e){this.a.delegate.d("source-change",{detail:t}),this.a.delegate.d("media-type-change",{detail:e?.mediaType(t)||"unknown"})}Ri(t){this.a.delegate.d("provider-change",{detail:null}),t&&d(()=>t.preconnect?.(this.a)),this.Oc.set(t),this.a.delegate.d("provider-loader-change",{detail:t})}Vi(){const t=this.a.$provider();if(!(!t||t[ei])){if(this.a.$state.canLoad()){bt(()=>t.setup(this.a),t.scope),t[ei]=!0;return}d(()=>t.preconnect?.(this.a))}}Wi(){const t=this.a.$provider(),e=this.a.$state.source(),s=d(this.a.$state.crossorigin);if(!ii(t?.currentSrc,e)){if(this.a.$state.canLoad()){const i=new AbortController;return Ee(e)?js()||ti(e.src,{credentials:Pe(s),signal:i.signal}).then(a=>{this.a.delegate.d("stream-type-change",{detail:a})}).catch(_n):this.a.delegate.d("stream-type-change",{detail:"on-demand"}),d(()=>t?.loadSource(e,d(this.a.$state.preload))),()=>i.abort()}try{V(e.src)&&Se(new URL(e.src).origin,"preconnect")}catch{}}}}function si(n){return(it(n)?n:[!V(n)&&"src"in n?n:{src:n}]).map(({src:t,type:e})=>({src:t,type:e??(!V(t)||t.startsWith("blob:")?"video/object":"?")}))}function ii(n,t){return n?.src===t?.src&&n?.type===t?.type}class ur{constructor(t,e){this.Xi=[],this.Sc=t,this.a=e,l(this.Yi.bind(this))}Yi(){const t=this.Sc();for(const e of this.Xi)if(!t.some(s=>s.id===e.id)){const s=e.id&&this.a.textTracks.getById(e.id);s&&this.a.textTracks.remove(s)}for(const e of t){const s=e.id||Me.createId(e);this.a.textTracks.getById(s)||(e.id=s,this.a.textTracks.add(e))}this.Xi=t}}var pr=Object.defineProperty,mr=Object.getOwnPropertyDescriptor,gr=(n,t,e,s)=>{for(var i=s>1?void 0:s?mr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&pr(t,e,i),i};class Re extends y{constructor(){super(...arguments),this.Rc=x([]),this.Sc=x([]),this.Oc=null,this.Pc=-1}onSetup(){this.a=p(),this.Qc=new dr(this.Rc,this.a,this.$state.loader)}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){this.Qc.connect(),new ur(this.Sc,this.a);const e=new ResizeObserver(ht(this.jc.bind(this)));e.observe(t);const s=new MutationObserver(this.Lb.bind(this));s.observe(t,{attributes:!0,childList:!0}),this.jc(),this.Lb(),T(()=>{e.disconnect(),s.disconnect()})}load(t){window.cancelAnimationFrame(this.Pc),this.Pc=requestAnimationFrame(()=>this.Uc(t)),T(()=>{window.cancelAnimationFrame(this.Pc)})}Uc(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:s}=this.a;this.Oc===e&&e?.target===t&&d(s)||(this.Tc(),this.Oc=e,e&&(e.target=t||null),!(!e||!t)&&e.load(this.a).then(i=>{this.scope&&d(this.$state.loader)===e&&(i&&d(()=>{const{muted:a,volume:r,playsinline:h}=this.a.$state;i.muted=a(),i.volume=r(),i.playsinline=h()}),this.a.delegate.d("provider-change",{detail:i}))}))}onDestroy(){this.Oc=null,this.Tc()}Tc(){this.a.delegate.d("provider-change",{detail:null})}jc(){if(!this.el)return;const t=this.a.player,e=this.el.offsetWidth,s=this.el.offsetHeight;t&&(t.$state.mediaWidth.set(e),t.$state.mediaHeight.set(s),t.el&&(Q(t.el,"--media-width",e+"px"),Q(t.el,"--media-height",s+"px")))}Lb(){const t=[],e=[],s=this.el.children;for(const i of s)i instanceof HTMLSourceElement?t.push({src:i.src,type:i.type}):i instanceof HTMLTrackElement&&e.push({id:i.id,src:i.src,kind:i.track.kind,language:i.srclang,label:i.label,default:i.default,type:i.getAttribute("data-type")});this.Rc.set(t),this.Sc.set(e),nt()}}Re.state=new ot({loader:null}),gr([N],Re.prototype,"load",1);class ni extends y{onSetup(){this.a=p(),l(this.Wc.bind(this))}onAttach(t){const{pictureInPicture:e,fullscreen:s}=this.a.$state;Q(t,"pointer-events","none"),E(t,"role","group"),this.setAttributes({"data-visible":this.Vc.bind(this),"data-fullscreen":s,"data-pip":e}),l(()=>{this.dispatch("change",{detail:this.Vc()})}),l(this.Xc.bind(this)),l(()=>{const i=s();for(const a of["top","right","bottom","left"])Q(t,`padding-${a}`,i&&`env(safe-area-inset-${a})`)})}Xc(){if(!this.el)return;const{$iosControls:t}=this.a,{controls:e}=this.a.$state,s=e()||t();g(this.el,"aria-hidden",s?"true":null),Q(this.el,"display",s?"none":null)}Wc(){const{controls:t}=this.a.player,{hideDelay:e}=this.$props;t.defaultDelay=e()===2e3?this.a.$props.controlsDelay():e()}Vc(){const{controlsVisible:t}=this.a.$state;return t()}}ni.props={hideDelay:2e3};class fr extends y{onAttach(t){Q(t,"pointer-events","auto")}}class ai extends _{constructor(t){super(),this._i=-1,this.$i=-1,this.Zi=null,this.k=t,l(this.aj.bind(this))}onDestroy(){this.Zi?.(),this.Zi=null}aj(){const t=this.k.Yc();if(!t){this.hide();return}const e=this.show.bind(this),s=this.hide.bind(this);this.k.ed(t,e,s)}show(t){window.cancelAnimationFrame(this.$i),this.$i=-1,this.Zi?.(),this.Zi=null,this._i=window.setTimeout(()=>{this._i=-1;const e=this.k.Zc();e&&e.style.removeProperty("display"),d(()=>this.k.ra(!0,t))},this.k.dd?.()??0)}hide(t){window.clearTimeout(this._i),this._i=-1,d(()=>this.k.ra(!1,t)),this.$i=requestAnimationFrame(()=>{this.$i=-1;const e=this.k.Zc();if(e){const s=ya(e),i=()=>{e.style.display="none",this.Zi=null};if(s){this.Zi?.();const a=u(e,"animationend",i,{once:!0});this.Zi=a}else i()}})}}const xt=at();let br=0;class ri extends y{constructor(){super(),this.Ta=`media-tooltip-${++br}`,this.Yc=x(null),this.Zc=x(null),new X;const{showDelay:t}=this.$props;new ai({Yc:this.Yc,Zc:this.Zc,dd:t,ed(e,s,i){u(e,"touchstart",a=>a.preventDefault(),{passive:!1}),u(e,"focus",s),u(e,"blur",i),u(e,"mouseenter",s),u(e,"mouseleave",i)},ra:this.cd.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onSetup(){G(xt,{Yc:this.Yc,Zc:this.Zc,_c:this._c.bind(this),$c:this.$c.bind(this),ad:this.ad.bind(this),bd:this.bd.bind(this)})}_c(t){this.Yc.set(t);let e=t.getAttribute("data-media-tooltip");e&&this.el?.setAttribute(`data-media-${e}-tooltip`,""),g(t,"data-describedby",this.Ta)}$c(t){t.removeAttribute("data-describedby"),t.removeAttribute("aria-describedby"),this.Yc.set(null)}ad(t){t.setAttribute("id",this.Ta),t.style.display="none",E(t,"role","tooltip"),this.Zc.set(t)}bd(t){t.removeAttribute("id"),t.removeAttribute("role"),this.Zc.set(null)}cd(t){const e=this.Yc(),s=this.Zc();e&&g(e,"aria-describedby",t?this.Ta:null);for(const i of[this.el,e,s])i&&g(i,"data-visible",t)}}ri.props={showDelay:500};class vr extends y{constructor(){super(),new X}onConnect(t){T($t(()=>{if(!this.connectScope)return;this.gd();const e=A(xt);T(()=>{const s=this.fd();s&&e.$c(s)})}))}gd(){const t=this.fd(),e=A(xt);t&&e._c(t)}fd(){return this.el.firstElementChild?.getAttribute("role")==="button"?this.el.firstElementChild:this.el}}class oi extends y{constructor(){super(),new X;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){this.gd(t),Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){this.gd(t);const e=A(xt);T(()=>e.bd(t)),T($t(()=>{this.connectScope&&l(this.hd.bind(this))}))}gd(t){A(xt).ad(t)}hd(){const{placement:t,offset:e,alignOffset:s}=this.$props;return Fs(this.el,this.id(),t(),{offsetVarName:"media-tooltip",xOffset:s(),yOffset:e()})}id(){return A(xt).Yc()}}oi.props={placement:"top center",offset:0,alignOffset:0};class J extends _{constructor(t){super(),this.k=t,new X,t.nd&&new Ra(t.nd)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":this.k.kd,"aria-pressed":this.bj.bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button")}onConnect(t){lt(t,this.cj.bind(this))}bj(){return Yt(this.k.kd())}dj(t){ta(this.k.kd)&&this.k.kd.set(e=>!e)}cj(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.stopImmediatePropagation();return}t.preventDefault(),(this.k.ld??this.dj).call(this,t)}}J.props={disabled:!1};var yr=Object.defineProperty,$r=Object.getOwnPropertyDescriptor,wr=(n,t,e,s)=>{for(var i=s>1?void 0:s?$r(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&yr(t,e,i),i};class Ve extends y{constructor(){super(),this.jd=x(!1),new J({kd:this.jd})}get pressed(){return this.jd()}}Ve.props={disabled:!1,defaultPressed:!1},wr([w],Ve.prototype,"pressed",1);class hi extends y{constructor(){super(),new J({kd:this.kd.bind(this),nd:"togglePaused",ld:this.ld.bind(this)})}onSetup(){this.a=p();const{paused:t,ended:e}=this.a.$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),yt(t,this.md.bind(this))}ld(t){const e=this.a.remote;this.kd()?e.pause(t):e.play(t)}kd(){const{paused:t}=this.a.$state;return!t()}md(){const{paused:t}=this.a.$state;return t()?"Play":"Pause"}}hi.props=J.props;function xr(n){return n?"true":"false"}function Z(n){return()=>xr(n())}class li extends y{constructor(){super(),new J({kd:this.kd.bind(this),nd:"toggleCaptions",ld:this.ld.bind(this)})}onSetup(){this.a=p(),this.setAttributes({"data-active":this.kd.bind(this),"data-supported":()=>!this.od(),"aria-hidden":Z(this.od.bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),yt(t,this.md.bind(this))}ld(t){this.a.remote.toggleCaptions(t)}kd(){const{textTrack:t}=this.a.$state,e=t();return!!e&&F(e)}od(){const{textTracks:t}=this.a.$state;return t().filter(F).length==0}md(){const{textTrack:t}=this.a.$state;return t()?"Closed-Captions Off":"Closed-Captions On"}}li.props=J.props;class ci extends y{constructor(){super(),new J({kd:this.kd.bind(this),nd:"toggleFullscreen",ld:this.ld.bind(this)})}onSetup(){this.a=p();const{fullscreen:t}=this.a.$state,e=this.pd.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),yt(t,this.md.bind(this))}ld(t){const e=this.a.remote,s=this.$props.target();this.kd()?e.exitFullscreen(s,t):e.enterFullscreen(s,t)}kd(){const{fullscreen:t}=this.a.$state;return t()}pd(){const{canFullscreen:t}=this.a.$state;return t()}md(){const{fullscreen:t}=this.a.$state;return t()?"Exit Fullscreen":"Enter Fullscreen"}}ci.props={...J.props,target:"prefer-media"};class di extends y{constructor(){super(),new J({kd:this.kd.bind(this),nd:"toggleMuted",ld:this.ld.bind(this)})}onSetup(){this.a=p(),this.setAttributes({"data-muted":this.kd.bind(this),"data-state":this.qd.bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),yt(t,this.md.bind(this))}ld(t){const e=this.a.remote;this.kd()?e.unmute(t):e.mute(t)}kd(){const{muted:t,volume:e}=this.a.$state;return t()||e()===0}md(){return this.kd()?"Unmute":"Mute"}qd(){const{muted:t,volume:e}=this.a.$state,s=e();if(t()||s===0)return"muted";if(s>=.5)return"high";if(s<.5)return"low"}}di.props=J.props;class ui extends y{constructor(){super(),new J({kd:this.kd.bind(this),nd:"togglePictureInPicture",ld:this.ld.bind(this)})}onSetup(){this.a=p();const{pictureInPicture:t}=this.a.$state,e=this.pd.bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Z(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),yt(t,this.md.bind(this))}ld(t){const e=this.a.remote;this.kd()?e.exitPictureInPicture(t):e.enterPictureInPicture(t)}kd(){const{pictureInPicture:t}=this.a.$state;return t()}pd(){const{canPictureInPicture:t}=this.a.$state;return t()}md(){const{pictureInPicture:t}=this.a.$state;return t()?"Exit Picture In Picture":"Enter Picture In Picture"}}ui.props=J.props;class pi extends y{constructor(){super(),new X}onSetup(){this.a=p();const{seeking:t}=this.a.$state,{seconds:e}=this.$props,s=this.pd.bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":s,"aria-hidden":Z(()=>!s())})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),yt(t,this.md.bind(this))}onConnect(t){lt(t,this.ld.bind(this))}pd(){const{canSeek:t}=this.a.$state;return t()}md(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`}ld(t){const{seconds:e,disabled:s}=this.$props;if(s())return;const{currentTime:i}=this.a.$state,a=i()+e();this.a.remote.seek(a,t)}}pi.props={disabled:!1,seconds:30};class mi extends y{constructor(){super(),new X}onSetup(){this.a=p();const{disabled:t}=this.$props,{live:e,liveEdge:s}=this.a.$state,i=()=>!e();this.setAttributes({"data-edge":s,"data-hidden":i,"aria-disabled":Z(t),"aria-hidden":Z(i)})}onAttach(t){E(t,"tabindex","0"),E(t,"role","button"),E(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){lt(t,this.ld.bind(this))}ld(t){const{disabled:e}=this.$props,{liveEdge:s}=this.a.$state;e()||s()||this.a.remote.seekToLiveEdge(t)}}mi.props={disabled:!1};const We=new ot({min:0,max:100,value:0,pointerValue:0,focused:!1,dragging:!1,pointing:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return gi(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return gi(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function gi(n,t,e){const s=t-n,i=e-n;return s>0?i/s:0}function kr(n,t,e,s){return Te(n,W(e,da(s)),t)}function Tr(n,t,e,s){const i=Te(0,e,1),a=t-n,r=a*i,h=r/s,o=s*h;return n+o}const fi={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};class Er extends _{constructor(t,e){super(),this.t=null,this.fj=null,this.hj=null,this.vj=te(s=>{this.gj(this.ij(s),s)},20,{leading:!0}),this.k=t,this.a=e}onConnect(){if(l(this.oj.bind(this)),l(this.pj.bind(this)),this.k.he){const t=this.a.player.el?.querySelector("media-provider,[data-media-provider]");t&&(this.t=t,u(t,"touchstart",this.qj.bind(this),{passive:!0}),u(t,"touchmove",this.rj.bind(this),{passive:!1}))}}qj(t){this.fj=t.touches[0]}rj(t){if(jt(this.fj)||Le(t))return;const e=t.touches[0],s=e.clientX-this.fj.clientX,i=e.clientY-this.fj.clientY,a=this.$state.dragging();!a&&Math.abs(i)>20||a||Math.abs(s)>20&&(this.fj=e,this.hj=this.$state.value(),this.jj(this.hj,t))}oj(){this.k.xd()||(this.listen("focus",this.Ai.bind(this)),this.listen("pointerenter",this.yi.bind(this)),this.listen("pointermove",this.sj.bind(this)),this.listen("pointerleave",this.zi.bind(this)),this.listen("pointerdown",this.tj.bind(this)),this.listen("keydown",this.nh.bind(this)),this.listen("keyup",this.mh.bind(this)))}pj(){this.k.xd()||!this.$state.dragging()||(u(document,"pointerup",this.uj.bind(this)),u(document,"pointermove",this.vj.bind(this)),ua&&u(document,"touchmove",this.wj.bind(this),{passive:!1}))}Ai(){this.gj(this.$state.value())}kj(t,e){const{value:s,min:i,max:a,dragging:r}=this.$state,h=Math.max(i(),Math.min(t,a()));s.set(h);const o=this.createEvent("value-change",{detail:h,trigger:e});if(this.dispatch(o),this.k.Ib?.(o),r()){const c=this.createEvent("drag-value-change",{detail:h,trigger:e});this.dispatch(c),this.k.Sd?.(c)}}gj(t,e){const{pointerValue:s,dragging:i}=this.$state;s.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),i()&&this.kj(t,e)}ij(t){let e,s=this.el.getBoundingClientRect(),{min:i,max:a}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:r,height:h}=s;e=(r-t.clientY)/h}else if(this.fj&&Ms(this.hj)){const{width:r}=this.t.getBoundingClientRect(),h=(t.clientX-this.fj.clientX)/r,o=a()-i(),c=o*Math.abs(h);e=(h<0?this.hj-c:this.hj+c)/o}else{const{left:r,width:h}=s;e=(t.clientX-r)/h}return Math.max(i(),Math.min(a(),this.k.wd(Tr(i(),a(),e,this.k.ud()))))}yi(t){this.$state.pointing.set(!0)}sj(t){const{dragging:e}=this.$state;e()||this.gj(this.ij(t),t)}zi(t){this.$state.pointing.set(!1)}tj(t){if(t.button!==0)return;const e=this.ij(t);this.jj(e,t),this.gj(e,t)}jj(t,e){const{dragging:s}=this.$state;if(s())return;s.set(!0),this.a.remote.pauseControls(e);const i=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(i),this.k.Zd?.(i)}mj(t,e){const{dragging:s}=this.$state;if(!s())return;s.set(!1),this.a.remote.resumeControls(e);const i=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(i),this.k.Wd?.(i),this.fj=null,this.hj=null}nh(t){const{key:e}=t,{min:s,max:i}=this.$state;let a;if(e==="Home"||e==="PageUp"?a=s():e==="End"||e==="PageDown"?a=i():!t.metaKey&&/[0-9]/.test(e)&&(a=(i()-s())/10*Number(e)),!Ct(a)){this.gj(a,t),this.kj(a,t);return}const r=this.nj(t);if(Ct(r))return;const h=e===this.lj;!this.$state.dragging()&&h&&this.jj(r,t),this.gj(r,t),h||this.kj(r,t),this.lj=e}mh(t){this.lj="";const{dragging:e,value:s}=this.$state;if(!e())return;const i=this.nj(t)??s();this.gj(i),this.mj(i,t)}nj(t){const{key:e,shiftKey:s}=t;if(!Object.keys(fi).includes(e))return;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:i}=this.$props,{value:a,min:r,max:h}=this.$state,o=this.k.ud(),c=this.k.vd(),m=s?c*i():c,f=Number(fi[e]),k=m*f,R=(a()+k)/o;return Math.max(r(),Math.min(h(),Number((o*R).toFixed(3))))}uj(t){if(t.button!==0)return;const e=this.ij(t);this.gj(e,t),this.mj(e,t)}wj(t){t.preventDefault()}}const It=at(()=>({})),Be=at();class dt extends _{constructor(t){super(),this.Dd=ht((e,s)=>{this.el?.style.setProperty("--slider-fill",e+"%"),this.el?.style.setProperty("--slider-pointer",s+"%")}),this.k=t}onSetup(){this.a=p();const t=new X;t.attach(this),this.$state.focused=t.focused.bind(t),tt(It)||G(It,{default:"value"}),G(Be,{Ed:this.$props.orientation,Fd:this.k.xd,Gd:x(null)}),l(this.zd.bind(this)),l(this.Ad.bind(this)),this.Bd(),new Er(this.k,this.a).attach(this)}onAttach(t){E(t,"role","slider"),E(t,"tabindex","0"),E(t,"autocomplete","off"),l(this.yd.bind(this))}zd(){const{dragging:t,value:e,min:s,max:i}=this.$state;d(t)||e.set(kr(s(),i(),e(),this.k.ud()))}Ad(){if(!this.k.xd())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)}Cd(){return Yt(this.k.xd())}Bd(){const{orientation:t}=this.$props,{dragging:e,active:s,pointing:i}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":i,"data-active":s,"aria-disabled":this.Cd.bind(this),"aria-valuemin":this.$state.min,"aria-valuemax":this.$state.max,"aria-valuenow":this.k.rd,"aria-valuetext":this.k.sd,"aria-orientation":t})}yd(){const{fillPercent:t,pointerPercent:e}=this.$state;this.Dd(W(t(),3),W(e(),3))}}dt.props={disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5};class ut extends y{constructor(){super(),new dt({ud:this.$props.step,vd:this.$props.keyStep,wd:Math.round,xd:this.$props.disabled,rd:this.rd.bind(this),sd:this.sd.bind(this)})}onSetup(){l(this.td.bind(this))}rd(){const{value:t}=this.$state;return Math.round(t())}sd(){const{value:t,max:e}=this.$state;return W(t()/e()*100,2)+"%"}td(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())}}ut.props={...dt.props,min:0,max:100,value:0},ut.state=We;const st=new Map,Ke=new Set,ze=new Set;class ys{constructor(t,e){this.$cues=x([]),this.$src=t,this.a=e,l(this.vg.bind(this)),ze.add(this),T(()=>ze.delete(this))}static create(t){const e=p();return new ys(t,e)}vg(){const{canLoad:t}=this.a.$state;if(!t())return;const e=new AbortController,{crossorigin:s}=this.a.$state,i=this.$src();if(i){if(st.has(i)){const a=st.get(i);if(st.delete(i),st.set(i,a),st.size>30){const r=st.keys().next().value;st.delete(r)}this.$cues.set(st.get(i))}else Ke.has(i)||(Ke.add(i),import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(async({parseResponse:a})=>{try{const r=await fetch(i,{signal:e.signal,credentials:Pe(s())});if(r.headers.get("content-type")==="application/json"){try{const{cues:o}=pa(await r.text(),window.VTTCue);this.ug(i,o)}catch{}return}const{cues:h}=await a(r);this.ug(i,h)}catch{}}));return()=>{e.abort(),this.$cues.set([])}}}ug(t,e){this.$cues.set(e);for(const s of ze)d(s.$src)===t&&s.$cues.set(e);st.set(t,e),Ke.delete(t)}}class Qe extends y{constructor(){super(...arguments),this.mg=[],this.ng=ht(this.tg.bind(this))}onSetup(){this.a=p(),this.lg=ys.create(this.$props.src),this.setAttributes({"data-loading":this.Jd.bind(this),"data-error":this.Id.bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Z(this.$state.hidden)})}onConnect(t){l(this.hg.bind(this)),l(this.Md.bind(this)),l(this.C.bind(this)),l(this.og.bind(this)),l(this.pg.bind(this))}hg(){const t=this.$state.img();t&&(u(t,"load",this.Qa.bind(this)),u(t,"error",this.E.bind(this)))}C(){const{src:t,loading:e,error:s}=this.$state;t(),e.set(!0),s.set(null)}Qa(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null),this.ng()}E(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}Jd(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}Id(){const{error:t}=this.$state;return!jt(t())}Md(){const{hidden:t}=this.$state,{duration:e}=this.a.$state,s=this.lg.$cues();t.set(this.Id()||!Number.isFinite(e())||s.length===0)}Hd(){return this.$props.time()}og(){const t=this.Hd(),{activeCue:e}=this.$state,{duration:s}=this.a.$state,i=this.lg.$cues();if(!i||!Number.isFinite(s())){e.set(null);return}e.set(ma(i,t))}pg(){let{activeCue:t}=this.$state,e=t(),s=d(this.$props.src);if(/^https?:/.test(s)||(s=location.href),!s||!e){this.$state.src.set(""),this.qg();return}const[i,a=""]=(e.text||"").split("#");this.$state.coords.set(this.rg(a)),this.$state.src.set(this.sg(i,s)),this.ng()}sg(t,e){return/^https?:/.test(t)?t:new URL(t,e).href}rg(t){const[e,s]=t.split("="),i={},a=s?.split(",");if(!e||!s)return null;for(let r=0;r<e.length;r++)i[e[r]]=+a[r];return i}tg(){if(!this.scope)return;const t=this.$state.img(),e=this.$state.coords();if(!t||!this.el)return;const s=e?.w??t.naturalWidth,i=e?.h??t.naturalHeight,{maxWidth:a,maxHeight:r,minWidth:h,minHeight:o}=getComputedStyle(this.el),c=Math.max(parseInt(h)/s,parseInt(o)/i),m=Math.min(parseInt(a)/s,parseInt(r)/i),f=m<1?m:c>1?c:1;this.kg(this.el,"--thumbnail-width",`${s*f}px`),this.kg(this.el,"--thumbnail-height",`${i*f}px`),this.kg(t,"width",`${t.naturalWidth*f}px`),this.kg(t,"height",`${t.naturalHeight*f}px`),this.kg(t,"transform",e?`translate(-${e.x*f}px, -${e.y*f}px)`:""),this.kg(t,"max-width","none")}kg(t,e,s){t.style.setProperty(e,s),this.mg.push(()=>t.style.removeProperty(e))}qg(){for(const t of this.mg)t();this.mg=[]}}Qe.props={src:"",time:0},Qe.state=new ot({src:"",img:null,coords:null,activeCue:null,loading:!1,error:null,hidden:!1});var Mr=Object.defineProperty,Sr=Object.getOwnPropertyDescriptor,Pr=(n,t,e,s)=>{for(var i=s>1?void 0:s?Sr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Mr(t,e,i),i};class se extends y{get video(){return this.$state.video()}onSetup(){this.a=p(),this.vb=Lt(ut.state),this.setAttributes({"data-loading":this.Jd.bind(this),"data-hidden":this.$state.hidden,"data-error":this.Id.bind(this),"aria-hidden":Z(this.$state.hidden)})}onAttach(t){l(this.Kd.bind(this)),l(this.Ld.bind(this)),l(this.Md.bind(this)),l(this.Nd.bind(this)),l(this.Od.bind(this))}Kd(){const t=this.$state.video();t&&(t.readyState>=2&&this.I(),u(t,"canplay",this.I.bind(this)),u(t,"error",this.E.bind(this)))}Ld(){const{src:t}=this.$state,{canLoad:e}=this.a.$state;t.set(e()?this.$props.src():null)}Jd(){const{canPlay:t,hidden:e}=this.$state;return!t()&&!e()}Id(){const{error:t}=this.$state;return!jt(t)}Md(){const{src:t,hidden:e}=this.$state,{canLoad:s,duration:i}=this.a.$state;e.set(s()&&(!t()||this.Id()||!Number.isFinite(i())))}Nd(){const{src:t,canPlay:e,error:s}=this.$state;t(),e.set(!1),s.set(null)}I(t){const{canPlay:e,error:s}=this.$state;e.set(!0),s.set(null),this.dispatch("can-play",{trigger:t})}E(t){const{canPlay:e,error:s}=this.$state;e.set(!1),s.set(t),this.dispatch("error",{trigger:t})}Od(){const{video:t,canPlay:e}=this.$state,{duration:s}=this.a.$state,{pointerRate:i}=this.vb,a=t();e()&&a&&Number.isFinite(s())&&Number.isFinite(i())&&(a.currentTime=i()*s())}}se.props={src:null},se.state=new ot({video:null,src:null,canPlay:!1,error:null,hidden:!1}),Pr([w],se.prototype,"video",1);function Ue(n,t){const e=String(n),s=e.length;if(s<t){const i=t-s;return`${"0".repeat(i)}${n}`}return e}function bi(n){const t=Math.trunc(n/3600),e=Math.trunc(n%3600/60),s=Math.trunc(n%60),i=Number((n-Math.trunc(n)).toPrecision(3));return{hours:t,minutes:e,seconds:s,fraction:i}}function ie(n,t=null,e=null,s=!1){const{hours:i,minutes:a,seconds:r}=bi(n),h=t?Ue(i,2):i,o=e||jt(e)&&n>=3600?Ue(a,2):a,c=Ue(r,2);return i>0||s?`${h}:${o}:${c}`:`${o}:${c}`}function Je(n){const t=[],{hours:e,minutes:s,seconds:i}=bi(n);return e>0&&t.push(`${e} hour`),s>0&&t.push(`${s} min`),(i>0||t.length===0)&&t.push(`${i} sec`),t.join(" ")}var Cr=Object.defineProperty,Ar=Object.getOwnPropertyDescriptor,jr=(n,t,e,s)=>{for(var i=s>1?void 0:s?Ar(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Cr(t,e,i),i};class Ze extends y{onSetup(){this.vb=Lt(ut.state),this.Pd=A(It),this.Qd=D(this.getValueText.bind(this))}getValueText(){const{type:t,format:e,decimalPlaces:s,padHours:i,padMinutes:a,showHours:r}=this.$props,{value:h,pointerValue:o,min:c,max:m}=this.vb,f=e()??this.Pd.default,k=t()==="current"?h():o();if(f==="percent"){const R=m()-c(),xe=k/R*100;return(this.Pd.percent??W)(xe,s())+"\uFE6A"}else return f==="time"?(this.Pd.time??ie)(k,i(),a(),r()):this.Pd.value?.(k)??k.toFixed(2)}}Ze.props={type:"pointer",format:null,showHours:!1,padHours:null,padMinutes:null,decimalPlaces:2},jr([N],Ze.prototype,"getValueText",1);class vi extends y{onSetup(){this.vb=A(Be);const{active:t}=Lt(ut.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{Gd:e}=this.vb;e.set(t),T(()=>e.set(null)),l(this.Rd.bind(this));const s=new ResizeObserver(this.Rd.bind(this));s.observe(t),T(()=>s.disconnect())}Rd(){const{Fd:t,Ed:e}=this.vb;if(t())return;const s=this.el,{offset:i,noClamp:a}=this.$props;Lr(s,{clamp:!a(),offset:i(),orientation:e()})}}vi.props={offset:0,noClamp:!1};function Lr(n,{clamp:t,offset:e,orientation:s}){const{width:i,height:a}=n.getBoundingClientRect(),r={top:null,right:null,bottom:null,left:null};if(r[s==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${e}px))`,s==="horizontal"){const h=i/2;if(!t)r.left=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(0px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${i}px)`;r.left=`min(${o}, ${c})`}}else{const h=a/2;if(!t)r.bottom=`calc(var(--slider-pointer) - ${h}px)`;else{const o=`max(${h}px, calc(var(--slider-pointer) - ${h}px))`,c=`calc(100% - ${a}px)`;r.bottom=`min(${o}, ${c})`}}Object.assign(n.style,r)}class Ye extends y{constructor(){super(...arguments),this.Td=te(this.W.bind(this),25)}onSetup(){this.a=p(),G(It,{default:"percent"}),new dt({ud:this.$props.step,vd:this.$props.keyStep,xd:this.$props.disabled,wd:Math.round,rd:this.rd.bind(this),sd:this.sd.bind(this),Sd:this.Sd.bind(this),Ib:this.Ib.bind(this)}).attach(this),l(this.zc.bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),E(t,"aria-label","Volume");const{canSetVolume:e}=this.a.$state;this.setAttributes({"data-supported":e,"aria-hidden":Z(()=>!e())})}rd(){const{value:t}=this.$state;return Math.round(t())}sd(){const{value:t,max:e}=this.$state;return W(t()/e()*100,2)+"%"}zc(){const{muted:t,volume:e}=this.a.$state,s=t()?0:e()*100;this.$state.value.set(s),this.dispatch("value-change",{detail:s})}W(t){if(!t.trigger)return;const e=W(t.detail/100,3);this.a.remote.changeVolume(e,t)}Ib(t){this.Td(t)}Sd(t){this.Td(t)}}Ye.props={...dt.props,keyStep:5,shiftKeyMultiplier:2},Ye.state=We;class ne extends y{constructor(){super(),this.Yd=x(null),this.Xd=!1,new dt({he:!0,ud:this.ud.bind(this),vd:this.vd.bind(this),xd:this.xd.bind(this),wd:this.wd,rd:this.rd.bind(this),sd:this.sd.bind(this),Zd:this.Zd.bind(this),Sd:this.Sd.bind(this),Wd:this.Wd.bind(this),Ib:this.Ib.bind(this)})}onSetup(){this.a=p(),G(It,{default:"time",value:this._d.bind(this),time:this.$d.bind(this)}),this.setAttributes({"data-chapters":this.ae.bind(this)}),this.setStyles({"--slider-progress":this.be.bind(this)}),l(this.Ac.bind(this)),l(this.ce.bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),E(t,"aria-label","Seek")}onConnect(t){l(this.de.bind(this)),Gt(this.a.textTracks,"chapters",this.Yd.set)}be(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"}ae(){const{duration:t}=this.a.$state;return this.Yd()?.cues.length&&Number.isFinite(t())&&t()>0}ce(){this.Vd=te(this.ee.bind(this),this.$props.seekingRequestThrottle())}Ac(){const{currentTime:t}=this.a.$state,{value:e,dragging:s}=this.$state,i=this.fe(t());d(s)||(e.set(i),this.dispatch("value-change",{detail:i}))}de(){const t=this.a.player.el,{Gd:e}=A(Be);t&&e()&&g(t,"data-preview",this.$state.active())}ee(t,e){this.a.remote.seeking(t,e)}ge(t,e,s){this.Vd.cancel();const{live:i}=this.a.$state;if(i()&&e>=99){this.a.remote.seekToLiveEdge(s);return}this.a.remote.seek(t,s)}Zd(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:s}=this.a.$state;this.Xd=!s(),this.a.remote.pause(t)}}Sd(t){this.Vd(this.Ud(t.detail),t)}Wd(t){const e=t.detail;this.ge(this.Ud(e),e,t);const{pauseWhileDragging:s}=this.$props;s()&&this.Xd&&(this.a.remote.play(t),this.Xd=!1)}Ib(t){const{dragging:e}=this.$state;e()||!t.trigger||this.Wd(t)}ud(){const t=this.$props.step()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}vd(){const t=this.$props.keyStep()/this.a.$state.duration()*100;return Number.isFinite(t)?t:1}wd(t){return W(t,3)}xd(){const{canSeek:t}=this.a.$state;return this.$props.disabled()||!t()}rd(){const{value:t}=this.$state;return Math.round(t())}sd(){const t=this.Ud(this.$state.value()),{duration:e}=this.a.$state;return Number.isFinite(t)?`${Je(t)} out of ${Je(e())}`:"live"}Ud(t){const{duration:e}=this.a.$state;return Math.round(t/100*e())}fe(t){const{liveEdge:e,duration:s}=this.a.$state,i=Math.max(0,Math.min(1,e()?1:Math.min(t,s())/s()));return Number.isNaN(i)?0:Number.isFinite(i)?i*100:100}_d(t){const e=this.Ud(t),{live:s,duration:i}=this.a.$state;return Number.isFinite(e)?(s()?e-i():e).toFixed(0):"LIVE"}$d(t,e,s,i){const a=this.Ud(t),{live:r,duration:h}=this.a.$state,o=r()?a-h():a;return Number.isFinite(a)?`${o<0?"-":""}${ie(Math.abs(o),e,s,i)}`:"LIVE"}}ne.props={...dt.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,seekingRequestThrottle:100},ne.state=We;var Nr=Object.defineProperty,Ir=Object.getOwnPropertyDescriptor,ae=(n,t,e,s)=>{for(var i=s>1?void 0:s?Ir(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Nr(t,e,i),i};class kt extends y{constructor(){super(...arguments),this.je=null,this.Yd=null,this.oe=x(null),this.ie=[],this.cb=[],this.pe=x(this.cb),this.ke=x(-1),this.le=x(-1),this.qe=0,this.Fe=ht(t=>{let e;for(let s=this.qe;s<this.ie.length;s++)if(e=this.se(this.cb[s],t),this.ie[s]?.style.setProperty("--chapter-progress",e+"%"),e<100){this.qe=s;break}}),this.Ge=D(this.He.bind(this))}get cues(){return this.pe()}get activeCue(){return this.cb[this.ke()]||null}get activePointerCue(){return this.cb[this.le()]||null}onSetup(){this.a=p(),this.me=Lt(ne.state)}onAttach(t){const e=this.xe.bind(this);Gt(this.a.textTracks,"chapters",e),l(this.te.bind(this))}onConnect(){T(this.Va.bind(this))}setRefs(t){if(this.ie=t,this.ne?.dispose(),this.ie.length===1){const e=this.ie[0];e.style.width="100%",e.style.setProperty("--chapter-fill","var(--slider-fill)"),e.style.setProperty("--chapter-progress","var(--slider-progress)")}else this.ie.length>0&&bt(()=>this.Jb(),this.ne=ea())}ue(t){d(this.oe)!==t&&(this.oe.set(t),this.Va(),this.ye())}ye(){const t=this.oe();if(!t?.cues.length||this.cb.length)return;const e=this.ze(t.cues);this.cb=e,this.pe.set(e),e[0].startTime===0&&this.ke.set(0)}Va(){this.cb.length&&(this.ie=[],this.cb=[],this.pe.set(this.cb),this.ke.set(-1),this.le.set(-1),this.qe=0,this.ne?.dispose())}Jb(){this.Ae(),l(this.Be.bind(this)),l(this.Ce.bind(this)),l(this.De.bind(this))}Ee(){return this.cb[this.cb.length-1].endTime}Ae(){let t,e=this.Ee();for(let s=0;s<this.cb.length;s++)t=this.cb[s],this.ie[s].style.width=W((t.endTime-t.startTime)/e*100,3)+"%"}Be(){const{liveEdge:t,ended:e}=this.a.$state;let{fillPercent:s,value:i}=this.me,a=t(),r=d(this.ke),h=this.cb[r],o=a?this.cb.length-1:this.ve(h.startTime<=d(i)?r:0,s());a||e()?this.re(0,this.cb.length,"100%"):o>r?this.re(r,o,"100%"):o<r&&this.re(o+1,r+1,"0%");const c=a?"100%":this.se(this.cb[o],s())+"%";this.we(this.ie[o],c),this.ke.set(o)}Ce(){let{pointing:t,pointerPercent:e}=this.me;if(!t()){this.le.set(-1);return}const s=this.ve(0,e());this.le.set(s)}re(t,e,s){for(let i=t;i<e;i++)this.we(this.ie[i],s)}we(t,e){t&&t.style.setProperty("--chapter-fill",e)}ve(t,e){let s=0;for(let i=t;i<this.cb.length;i++)if(s=this.se(this.cb[i],e),s>=0&&s<100)return i;return 0}De(){this.Fe(this.Ge())}He(){const{bufferedEnd:t,duration:e}=this.a.$state;return W(Math.min(t()/Math.max(e(),1),1),3)*100}se(t,e){const s=this.cb[this.cb.length-1],i=t.startTime/s.endTime*100,a=t.endTime/s.endTime*100;return Math.max(0,W(e>=a?100:(e-i)/(a-i)*100,3))}ze(t){const e=[];t[0].startTime!==0&&e.push(new window.VTTCue(0,t[0].startTime,""));for(let s=0;s<t.length-1;s++){const i=t[s],a=t[s+1];if(e.push(i),a){const r=a.startTime-i.endTime;r>0&&e.push(new window.VTTCue(i.endTime,i.endTime+r,""))}}return e.push(t[t.length-1]),e}xe(t){this.Yd=t,this.te()}te(){if(!this.scope)return;const{disabled:t}=this.$props;if(!t())return this.ue(this.Yd),this.je=this.Ie()?.querySelector('[data-part="chapter-title"]')||null,this.je&&l(this.Je.bind(this)),()=>{this.ue(null),this.je&&(this.je.textContent="",this.je=null)}}Je(){const t=this.activePointerCue||this.activeCue;this.je&&(this.je.textContent=t?.text||"")}Ie(){let t=this.el;for(;t&&t.getAttribute("role")!=="slider";)t=t.parentElement;return t}}kt.props={disabled:!1},ae([w],kt.prototype,"cues",1),ae([w],kt.prototype,"activeCue",1),ae([w],kt.prototype,"activePointerCue",1),ae([N],kt.prototype,"setRefs",1);const O=at(),qr=["a[href]","[tabindex]","input","select","button"].map(n=>`${n}:not([aria-hidden])`).join(","),yi=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);class Or{constructor(t){this.Kf=0,this.yj=null,this.xj=[],this.k=t}get Wg(){return this.xj}cf(t){return u(t,"focus",this.Ai.bind(this)),this.yj=t,T(()=>{this.yj=null}),this}ed(){this.yj&&(this.Jb(),u(this.yj,"keyup",this.mh.bind(this)),u(this.yj,"keydown",this.nh.bind(this)),T(()=>{this.Kf=0,this.xj=[]}))}Jb(){this.Kf=0,this.xj=this.Cj()}vf(t=this.Bj()){const e=this.xj[t],s=this.k.pf();e&&s&&requestAnimationFrame(()=>{s.scrollTop=e.offsetTop-s.offsetHeight/2+e.offsetHeight/2})}zj(t){this.Kf=t,this.xj[t]?.focus(),this.vf(t)}Bj(){return this.xj.findIndex(t=>t.getAttribute("aria-checked")==="true")}Ai(){this.Jb(),setTimeout(()=>{const t=this.Bj();this.zj(t>=0?t:0)},100)}mh(t){yi.has(t.key)&&(t.stopPropagation(),t.preventDefault())}nh(t){if(yi.has(t.key))switch(t.stopPropagation(),t.preventDefault(),t.key){case"Escape":this.k.qf(t);break;case"Tab":this.zj(this.Aj(t.shiftKey?-1:1));break;case"ArrowUp":this.zj(this.Aj(-1));break;case"ArrowDown":this.zj(this.Aj(1));break;case"Home":case"PageUp":this.zj(0);break;case"End":case"PageDown":this.zj(this.xj.length-1);break}}Aj(t){let e=this.Kf;do e=(e+t+this.xj.length)%this.xj.length;while(this.xj[e]?.offsetParent===null);return e}Cj(){if(!this.yj)return[];const t=this.yj.querySelectorAll(qr),e=[],s=i=>i.getAttribute("role")==="menu";for(const i of t)i instanceof HTMLElement&&i.offsetParent!==null&&Os(this.yj,i,s)&&e.push(i);return e}}var Dr=Object.defineProperty,Fr=Object.getOwnPropertyDescriptor,qt=(n,t,e,s)=>{for(var i=s>1?void 0:s?Fr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Dr(t,e,i),i};let Hr=0;class pt extends y{constructor(){super(),this.Ke=x(!1),this.Fd=x(!1),this.Yc=x(null),this.Zc=x(null),this.Te=x(!1),this.Me=new Set,this.Ne=null,this.lf=this.mf.bind(this),this.jf=this.nf.bind(this),this.kf=this.of.bind(this);const{showDelay:t}=this.$props;this.Oe=new ai({Yc:this.Yc,Zc:this.Zc,dd:t,ed:(e,s,i)=>{lt(e,r=>{this.Ke()?i(r):s(r)});const a=this.$e();a&&lt(a,r=>{r.stopPropagation(),i(r)})},ra:this.af.bind(this)})}get triggerElement(){return this.Yc()}get contentElement(){return this.Zc()}get isSubmenu(){return!!this.Re}onSetup(){this.a=p();const t=++Hr;this.Pe=`media-menu-${t}`,this.Qe=`media-menu-button-${t}`,this.Le=new Or({pf:this.bf.bind(this),qf:this.close.bind(this)}),tt(O)&&(this.Re=A(O)),this.setAttributes({"data-open":this.Ke,"data-submenu":this.isSubmenu,"data-disabled":this.xd.bind(this)}),G(O,{rf:this.Yc,Ke:this.Ke,sf:x(""),Ue:this.Ue.bind(this),Ve:this.Ve.bind(this),We:this.We.bind(this),Xe:this.Xe.bind(this),Ye:this.Ye.bind(this),Se:this.Se.bind(this)})}onAttach(t){t.style.setProperty("display","contents"),this.Le.cf(t)}onConnect(t){l(this.df.bind(this)),this.isSubmenu&&this.Re?.Se(this),requestAnimationFrame(()=>{this.jc()})}onDestroy(){this.Yc.set(null),this.Zc.set(null),this.Ne=null}df(){const t=this.ef();this.jc(),this.Ze(t),t&&(l(()=>{const{height:e}=this.a.$state,s=this.Zc();s&&Q(s,"--player-height",e()+"px")}),this.Le.ed(),this.listen("pointerup",this.ff.bind(this)),u(window,"pointerup",this.gf.bind(this)))}Ve(t){const e=t.el,s=this.isSubmenu,i=Z(this.xd.bind(this));E(e,"tabindex",s?"-1":"0"),E(e,"role",s?"menuitem":"button"),g(e,"id",this.Qe),g(e,"aria-haspopup","menu"),g(e,"aria-expanded","false"),g(e,"data-submenu",this.isSubmenu),this.isSubmenu||this._e(e),l(()=>{g(e,"data-open",this.Ke()),g(e,"aria-disabled",i())}),this.Yc.set(e),T(()=>{this.Yc.set(null)})}We(t){const e=t.el;e.style.setProperty("display","none"),g(e,"id",this.Pe),E(e,"role","menu"),E(e,"tabindex","-1"),g(e,"data-submenu",this.isSubmenu),this.Zc.set(e),T(()=>this.Zc.set(null)),this.isSubmenu||this._e(e),l(()=>{g(e,"data-open",this.Ke())}),this.Le.cf(e),this.Ze(!1),requestAnimationFrame(this.jc.bind(this))}Xe(t){this.Ne=t}_e(t){u(t,"click",e=>e.stopPropagation()),u(t,"pointerup",e=>e.stopPropagation())}Ze(t){const e=d(this.Zc);e&&g(e,"aria-hidden",Yt(!t))}Ye(t){this.Te.set(t)}af(t,e){if(e?.stopPropagation(),this.Ke()===t)return;if(this.xd()){t&&this.Oe.hide(e);return}const s=this.Yc(),i=this.Zc();if(s&&(g(s,"aria-controls",t&&this.Pe),g(s,"aria-expanded",Yt(t))),i&&g(i,"aria-labelledby",t&&this.Qe),this.Ke.set(t),this.hf(e),nt(),ke(e)){t?i?.focus():s?.focus();for(const a of[this.el,i])a&&a.setAttribute("data-keyboard","")}else for(const a of[this.el,i])a&&a.removeAttribute("data-keyboard");this.dispatch(t?"open":"close",{trigger:e}),t?(!this.isSubmenu&&this.a.activeMenu!==this&&(this.a.activeMenu?.close(e),this.a.activeMenu=this),this.Ne?.tf?.(e)):(this.isSubmenu?setTimeout(()=>{for(const a of this.Me)a.close(e)},300):this.a.activeMenu=null,this.Ne?.uf?.(e)),t&&!ke(e)&&requestAnimationFrame(()=>{this.Le.Jb(),setTimeout(()=>{this.Le.vf()},100)})}ef(){return!this.xd()&&this.Ke()}xd(){return this.Fd()||this.Te()}Ue(t){this.Fd.set(t)}ff(t){t.stopPropagation()}gf(t){if(this.isSubmenu)return setTimeout(this.close.bind(this,t),800);this.close(t)}$e(){const t=this.el.querySelector('[data-part="close-target"]');return Os(this.el,t,e=>e.getAttribute("role")==="menu")?t:null}bf(){if(this.isSubmenu){let t=this.el;for(;t&&t.tagName!=="media-menu"&&t.hasAttribute("data-submenu");)t=t.parentNode;return t}else return d(this.Zc)||null}hf(t){this.isSubmenu||(this.Ke()?this.a.remote.pauseControls(t):this.a.remote.resumeControls(t))}Se(t){this.Me.add(t),u(t,"open",this.jf),u(t,"close",this.kf),T(this.lf)}mf(t){this.Me.delete(t)}nf(t){for(const e of this.Me)if(e!==t.target)for(const s of[e.el,e.triggerElement])s?.setAttribute("aria-hidden","true");requestAnimationFrame(()=>{this.jc()})}of(){for(const t of this.Me)for(const e of[t.el,t.triggerElement])e?.setAttribute("aria-hidden","false");requestAnimationFrame(()=>{this.jc()})}jc(){const t=d(this.Zc);if(!t)return;let{paddingTop:e,paddingBottom:s,borderTopWidth:i,borderBottomWidth:a}=getComputedStyle(t),r=parseFloat(e)+parseFloat(s)+parseFloat(i)+parseFloat(a),h=[...t.children];for(const o of h)o instanceof HTMLElement&&o.style.display==="contents"?h.push(...o.children):r+=o.offsetHeight||0;requestAnimationFrame(()=>{t&&(g(t,"data-resizing",""),setTimeout(()=>{t&&g(t,"data-resizing",!1)},400),Q(t,"--menu-height",r+"px"))})}open(t){d(this.Ke)||(this.Oe.show(t),nt())}close(t){d(this.Ke)&&(this.Oe.hide(t),nt())}}pt.props={showDelay:0},qt([w],pt.prototype,"triggerElement",1),qt([w],pt.prototype,"contentElement",1),qt([w],pt.prototype,"isSubmenu",1),qt([N],pt.prototype,"open",1),qt([N],pt.prototype,"close",1);var Rr=Object.defineProperty,Vr=Object.getOwnPropertyDescriptor,Wr=(n,t,e,s)=>{for(var i=s>1?void 0:s?Vr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Rr(t,e,i),i};class re extends y{constructor(){super(),new X}get expanded(){return this.wf?.Ke()??!1}onSetup(){this.wf=A(O)}onAttach(t){this.wf.Ve(this),l(this.Ad.bind(this)),E(t,"type","button")}onConnect(t){const e=Array.from(t.querySelectorAll('[data-part="hint"]')).pop();e&&l(()=>{const s=this.wf.sf();s&&(e.textContent=s)}),lt(t,s=>{this.dispatch("select",{trigger:s})})}Ad(){this.wf.Ye(this.$props.disabled())}}re.props={disabled:!1},Wr([w],re.prototype,"expanded",1);class Br extends re{}class $i extends y{constructor(){super(...arguments),this.xf=null}onSetup(){this.a=p(),G(oe,{gd:this.zf.bind(this)})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){}onDestroy(){this.xf?.remove(),this.xf=null}zf(t){this.yf(!1),this.xf=t,$t(()=>{$t(()=>{this.connectScope&&l(this.Ad.bind(this))})})}Ad(){const{fullscreen:t}=this.a.$state,{disabled:e}=this.$props,s=e();this.yf(s==="fullscreen"?!t():!s)}yf(t){if(!this.xf)return;let e=this.Af(this.$props.container());if(!e)return;const s=this.xf.parentElement===e;g(this.xf,"data-portal",t),t?s||(this.xf.remove(),e.append(this.xf)):s&&this.xf.parentElement===e&&(this.xf.remove(),this.el?.append(this.xf))}Af(t){return t instanceof HTMLElement?t:t?document.querySelector(t):document.body}}$i.props={container:null,disabled:!1};const oe=at();class wi extends y{constructor(){super(),new X;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(this.wf=A(O),this.wf.We(this),tt(oe)){const e=A(oe);e&&(G(oe,null),e.gd(t),T(()=>e.gd(null)))}}onConnect(t){l(this.hd.bind(this))}hd(){if(!this.el)return;const t=this.$props.placement();if(t){Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:e,alignOffset:s}=this.$props;return Fs(this.el,this.fd(),t,{offsetVarName:"media-menu",xOffset:s(),yOffset:e()})}else this.el.removeAttribute("style"),this.el.style.display="none"}fd(){return this.wf.rf()}}wi.props={placement:null,offset:0,alignOffset:0};const Ge=at();class Tt extends _{constructor(){super(...arguments),this.Dj=new Set,this.If=x(""),this.e=null,this.Hj=this.ra.bind(this)}get Bf(){return Array.from(this.Dj).map(t=>t.If())}get value(){return this.If()}set value(t){this.ra(t)}onSetup(){G(Ge,{add:this.Fj.bind(this),remove:this.Gj.bind(this)})}onAttach(t){tt(O)||E(t,"role","radiogroup"),this.setAttributes({value:this.If})}onDestroy(){this.Dj.clear()}Fj(t){this.Dj.has(t)||(this.Dj.add(t),t.Ef=this.Hj,t.Df(t.If()===this.If()))}Gj(t){t.Ef=null,this.Dj.delete(t)}ra(t,e){const s=d(this.If);if(!t||t===s)return;const i=this.Ej(s),a=this.Ej(t);i?.Df(!1,e),a?.Df(!0,e),this.If.set(t),this.Ib?.(t,e)}Ej(t){for(const e of this.Dj)if(t===d(e.If))return e;return null}}var Kr=Object.defineProperty,zr=Object.getOwnPropertyDescriptor,xi=(n,t,e,s)=>{for(var i=s>1?void 0:s?zr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Kr(t,e,i),i};class he extends y{constructor(){super(),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get values(){return this.e.Bf}get value(){return this.e.value}set value(t){this.e.value=t}onSetup(){l(this.zd.bind(this))}zd(){this.e.value=this.$props.value()}Ib(t,e){const s=this.createEvent("change",{detail:t,trigger:e});this.dispatch(s)}}he.props={value:""},xi([w],he.prototype,"values",1),xi([w],he.prototype,"value",1);var Qr=Object.defineProperty,Ur=Object.getOwnPropertyDescriptor,Jr=(n,t,e,s)=>{for(var i=s>1?void 0:s?Ur(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Qr(t,e,i),i};class Xe extends y{constructor(){super(),this.Cf=x(!1),this.e={If:this.$props.value,Df:this.Df.bind(this),Ef:null},new X}get checked(){return this.Cf()}onSetup(){this.setAttributes({value:this.$props.value,"data-checked":this.Cf,"aria-checked":Z(this.Cf)})}onAttach(t){const e=tt(O);E(t,"tabindex",e?"-1":"0"),E(t,"role",e?"menuitemradio":"radio"),l(this.zd.bind(this))}onConnect(t){this.Ff(),lt(t,this.ld.bind(this)),T(this.Gf.bind(this))}Gf(){bt(()=>{A(Ge).remove(this.e)},this.connectScope)}Ff(){A(Ge).add(this.e)}zd(){const{value:t}=this.$props,e=t();d(this.Cf)&&this.e.Ef?.(e)}ld(t){d(this.Cf)||(this.ra(!0,t),this.Hf(t),this.e.Ef?.(d(this.$props.value),t))}Df(t,e){d(this.Cf)!==t&&this.ra(t,e)}ra(t,e){this.Cf.set(t),this.dispatch("change",{detail:t,trigger:e})}Hf(t){this.dispatch("select",{trigger:t})}}Xe.props={value:""},Jr([w],Xe.prototype,"checked",1);var Zr=Object.defineProperty,Yr=Object.getOwnPropertyDescriptor,_e=(n,t,e,s)=>{for(var i=s>1?void 0:s?Yr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Zr(t,e,i),i};class Ot extends y{constructor(){super(),this.Kf=x(0),this.Jf=x(null),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get value(){return this.e.value}get disabled(){const t=this.Jf();return!t||!t.cues.length}onSetup(){this.a=p(),tt(O)&&(this.wf=A(O));const{thumbnails:t}=this.$props;this.setAttributes({"data-thumbnails":()=>!!t()})}onAttach(t){this.wf?.Xe({tf:this.tf.bind(this)})}getOptions(){const t=this.Jf();return t?t.cues.map((e,s)=>({cue:e,value:s+"",label:e.text,startTime:ie(e.startTime,!1),duration:Je(e.endTime-e.startTime)})):[]}tf(){d(()=>this.Ac())}onConnect(t){l(this.zd.bind(this)),l(this.Ac.bind(this)),l(this.Lf.bind(this)),Gt(this.a.textTracks,"chapters",this.Jf.set)}zd(){this.e.value=this.Mf()}Ac(){if(!this.wf?.Ke())return;const t=this.Jf();if(!t){this.Kf.set(-1);return}const{currentTime:e}=this.a.$state,s=e(),i=t.cues.findIndex(a=>ga(a,s));if(this.Kf.set(i),i>=0){const a=t.cues[i],r=this.el.querySelector("[aria-checked='true']"),h=(s-a.startTime)/(a.endTime-a.startTime)*100;r&&Q(r,"--progress",W(h,3)+"%")}}Lf(){this.wf?.Ue(this.disabled)}Mf(){return this.Kf()+""}Ib(t,e){if(this.disabled||!e)return;const s=+t,i=this.Jf()?.cues;Ms(s)&&i?.[s]&&(this.Kf.set(s),this.a.remote.seek(i[s].startTime,e),this.dispatch("change",{detail:i[s],trigger:e}))}}Ot.props={thumbnails:""},_e([w],Ot.prototype,"value",1),_e([w],Ot.prototype,"disabled",1),_e([N],Ot.prototype,"getOptions",1);var Gr=Object.defineProperty,Xr=Object.getOwnPropertyDescriptor,ts=(n,t,e,s)=>{for(var i=s>1?void 0:s?Xr(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&Gr(t,e,i),i};class Dt extends y{constructor(){super(),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get value(){return this.e.value}get disabled(){const{audioTracks:t}=this.a.$state;return t().length===0}onSetup(){this.a=p(),tt(O)&&(this.wf=A(O))}onConnect(t){l(this.zd.bind(this)),l(this.Lf.bind(this)),l(this.Nf.bind(this))}getOptions(){const{audioTracks:t}=this.a.$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}zd(){this.e.value=this.Mf()}Nf(){const{emptyLabel:t}=this.$props,{audioTrack:e}=this.a.$state,s=e();this.wf?.sf.set(s?.label??t())}Lf(){this.wf?.Ue(this.disabled)}Mf(){const{audioTrack:t}=this.a.$state,e=t();return e?e.label.toLowerCase():""}Ib(t,e){if(this.disabled)return;const s=this.a.audioTracks.toArray().findIndex(i=>i.label.toLowerCase()===t);if(s>=0){const i=this.a.audioTracks[s];this.a.remote.changeAudioTrack(s,e),this.dispatch("change",{detail:i,trigger:e})}}}Dt.props={emptyLabel:"Default"},ts([w],Dt.prototype,"value",1),ts([w],Dt.prototype,"disabled",1),ts([N],Dt.prototype,"getOptions",1);var _r=Object.defineProperty,to=Object.getOwnPropertyDescriptor,es=(n,t,e,s)=>{for(var i=s>1?void 0:s?to(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&_r(t,e,i),i};class Ft extends y{constructor(){super(),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get value(){return this.e.value}get disabled(){const{textTracks:t}=this.a.$state;return t().filter(F).length===0}onSetup(){this.a=p(),tt(O)&&(this.wf=A(O))}onConnect(t){super.onConnect?.(t),l(this.zd.bind(this)),l(this.Lf.bind(this)),l(this.Nf.bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=this.a.$state;return[{value:"off",label:t},...e().filter(F).map(s=>({track:s,label:s.label,value:s.label.toLowerCase()}))]}zd(){this.e.value=this.Mf()}Nf(){const{offLabel:t}=this.$props,{textTrack:e}=this.a.$state,s=e();this.wf?.sf.set(s&&F(s)&&s.mode==="showing"?s.label:t())}Lf(){this.wf?.Ue(this.disabled)}Mf(){const{textTrack:t}=this.a.$state,e=t();return e&&F(e)&&e.mode==="showing"?e.label.toLowerCase():"off"}Ib(t,e){if(this.disabled)return;if(t==="off"){const i=this.a.textTracks.selected;if(i){const a=this.a.textTracks.toArray().indexOf(i);this.a.remote.changeTextTrackMode(a,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const s=this.a.textTracks.toArray().findIndex(i=>i.label.toLowerCase()===t);if(s>=0){const i=this.a.textTracks[s];this.a.remote.changeTextTrackMode(s,"showing",e),this.dispatch("change",{detail:i,trigger:e})}}}Ft.props={offLabel:"Off"},es([w],Ft.prototype,"value",1),es([w],Ft.prototype,"disabled",1),es([N],Ft.prototype,"getOptions",1);var eo=Object.defineProperty,so=Object.getOwnPropertyDescriptor,ki=(n,t,e,s)=>{for(var i=s>1?void 0:s?so(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&eo(t,e,i),i};class le extends y{constructor(){super(),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get value(){return this.e.value}onSetup(){this.a=p(),tt(O)&&(this.wf=A(O))}onConnect(t){l(this.zd.bind(this)),l(this.Nf.bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(s=>({label:s===1?e:s+"\xD7",value:s+""}))}zd(){this.e.value=this.Mf()}Nf(){const{normalLabel:t}=this.$props,{playbackRate:e}=this.a.$state,s=e();this.wf?.sf.set(s===1?t():s+"\xD7")}Mf(){const{playbackRate:t}=this.a.$state;return t()+""}Ib(t,e){const s=+t;this.a.remote.changePlaybackRate(s,e),this.dispatch("change",{detail:s,trigger:e})}}le.props={normalLabel:"Normal",rates:[.25,.5,.75,1,1.25,1.5,1.75,2]},ki([w],le.prototype,"value",1),ki([N],le.prototype,"getOptions",1);var io=Object.defineProperty,no=Object.getOwnPropertyDescriptor,ss=(n,t,e,s)=>{for(var i=s>1?void 0:s?no(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&io(t,e,i),i};class Ht extends y{constructor(){super(),this.Pf=D(()=>{const{qualities:t}=this.a.$state;return[...t()].sort((e,s)=>s.height===e.height?s.bitrate-e.bitrate:s.height-e.height)}),this.e=new Tt,this.e.Ib=this.Ib.bind(this)}get value(){return this.e.value}get disabled(){const{canSetQuality:t,qualities:e}=this.a.$state;return!t()||e().length===0}onSetup(){this.a=p(),tt(O)&&(this.wf=A(O))}onConnect(t){l(this.zd.bind(this)),l(this.Lf.bind(this)),l(this.Nf.bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...this.Pf().map(s=>{const i=`${W(s.bitrate/1e6,2)} Mbps`;return{quality:s,label:s.height+"p",value:this.Of(s),bitrate:()=>e()?null:i}})]}zd(){this.e.value=this.Mf()}Nf(){const{autoLabel:t}=this.$props,{autoQuality:e,quality:s}=this.a.$state,i=s()?s().height+"p":"";this.wf?.sf.set(e()?t()+` (${i})`:i)}Lf(){const{qualities:t}=this.a.$state;this.wf?.Ue(t().length===0)}Ib(t,e){if(this.disabled)return;if(t==="auto"){this.a.remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:s}=this.a.$state,i=d(s).findIndex(a=>this.Of(a)===t);if(i>=0){const a=d(s)[i];this.a.remote.changeQuality(i,e),this.dispatch("change",{detail:a,trigger:e})}}Mf(){const{quality:t,autoQuality:e}=this.a.$state;if(e())return"auto";const s=t();return s?this.Of(s):"auto"}Of(t){return t.height+"_"+t.bitrate}}Ht.props={autoLabel:"Auto",hideBitrate:!1},ss([w],Ht.prototype,"value",1),ss([w],Ht.prototype,"disabled",1),ss([N],Ht.prototype,"getOptions",1);class Ti extends y{constructor(){super(...arguments),this.t=null,this.Qf=0,this.Rf=-1}onSetup(){this.a=p();const{event:t,action:e}=this.$props;this.setAttributes({event:t,action:e})}onAttach(t){t.setAttribute("data-media-gesture",""),t.style.setProperty("pointer-events","none")}onConnect(t){this.t=this.a.player.el?.querySelector("[data-media-provider]"),l(this.Tf.bind(this))}Tf(){let t=this.$props.event();!this.t||!t||(/^dbl/.test(t)&&(t=t.split(/^dbl/)[1]),(t==="pointerup"||t==="pointerdown")&&this.a.$state.pointer()==="coarse"&&(t=t==="pointerup"?"touchend":"touchstart"),u(this.t,t,this.Uf.bind(this),{passive:!1}))}Uf(t){if(!(Ss(t)&&(t.button!==0||this.a.activeMenu)||Zt(t)&&this.a.activeMenu||Le(t)||!this.Vf(t))){if(t.MEDIA_GESTURE=!0,t.preventDefault(),!d(this.$props.event)?.startsWith("dbl"))this.Qf===0&&setTimeout(()=>{this.Qf===1&&this.Sf(t)},250);else if(this.Qf===1){queueMicrotask(()=>this.Sf(t)),clearTimeout(this.Rf),this.Qf=0;return}this.Qf===0&&(this.Rf=window.setTimeout(()=>{this.Qf=0},275)),this.Qf++}}Sf(t){this.el.setAttribute("data-triggered",""),requestAnimationFrame(()=>{this.Wf()&&this.Xf(d(this.$props.action),t),requestAnimationFrame(()=>{this.el.removeAttribute("data-triggered")})})}Vf(t){if(!this.el)return!1;if(Ss(t)||sa(t)||Zt(t)){const e=Zt(t)?t.changedTouches[0]??t.touches[0]:void 0,s=e?.clientX??t.clientX,i=e?.clientY??t.clientY,a=this.el.getBoundingClientRect(),r=i>=a.top&&i<=a.bottom&&s>=a.left&&s<=a.right;return t.type.includes("leave")?!r:r}return!0}Wf(){const t=this.a.player.el.querySelectorAll("[data-media-gesture][data-triggered]");return Array.from(t).sort((e,s)=>+getComputedStyle(s).zIndex-+getComputedStyle(e).zIndex)[0]===this.el}Xf(t,e){if(!t)return;const s=new z("will-trigger",{detail:t,cancelable:!0,trigger:e});if(this.dispatchEvent(s),s.defaultPrevented)return;const[i,a]=t.replace(/:([a-z])/,"-$1").split(":");t.includes(":fullscreen")?this.a.remote.toggleFullscreen("prefer-media",e):t.includes("seek:")?this.a.remote.seek(d(this.a.$state.currentTime)+(+a||0),e):this.a.remote[ks(i)](e),this.dispatch("trigger",{detail:t,trigger:e})}}Ti.props={event:void 0,action:void 0};class ao{constructor(t){this.priority=10,this.Jf=null,this.q=ia(),this.Zf=t}attach(){}canRender(){return!0}detach(){this.q.empty(),this.Zf.reset(),this.Jf=null}changeTrack(t){!t||this.Jf===t||(this.q.empty(),t.readyState<2?(this.Zf.reset(),this.q.add(u(t,"load",()=>this.Ij(t),{once:!0}))):this.Ij(t),this.q.add(u(t,"add-cue",e=>{this.Zf.addCue(e.detail)}),u(t,"remove-cue",e=>{this.Zf.removeCue(e.detail)})),this.Jf=t)}Ij(t){this.Zf.changeTrack({cues:[...t.cues],regions:[...t.regions]})}}class Ei extends y{onSetup(){this.a=p(),this.setAttributes({"aria-hidden":Z(this.od.bind(this))})}onAttach(t){t.style.setProperty("pointer-events","none")}onConnect(t){if(this.Zf){l(this._f.bind(this));return}import("https://cdn.jsdelivr.net/npm/media-captions@next/dist/prod.js").then(e=>{this.connectScope&&bt(()=>{this.Oa=e;const{CaptionsRenderer:s}=this.Oa;this.Zf=new s(t),this.Yf=new ao(this.Zf),l(this._f.bind(this))},this.connectScope)})}onDestroy(){this.Yf&&(this.Yf.detach(),this.a.textRenderers.remove(this.Yf)),this.Zf?.destroy()}od(){const{textTrack:t}=this.a.$state,e=t();return this.a.$iosControls()||!e||!F(e)}_f(){const{viewType:t}=this.a.$state;return t()==="audio"?this.ag():this.bg()}ag(){return l(this.te.bind(this)),()=>{this.el.textContent=""}}te(){if(this.od())return;const{textTrack:t}=this.a.$state;this.$f(),u(t(),"cue-change",this.$f.bind(this)),l(this.cg.bind(this))}$f(){this.el.textContent="";const{currentTime:t,textTrack:e}=this.a.$state,s=d(t),i=d(e).activeCues,{renderVTTCueString:a}=this.Oa;for(const r of i){const h=document.createElement("div");h.setAttribute("data-part","cue"),h.innerHTML=a(r,s),this.el.append(h)}}cg(){const{currentTime:t}=this.a.$state,{updateTimedVTTCueNodes:e}=this.Oa;e(this.el,t())}bg(){return l(this.dg.bind(this)),l(this.eg.bind(this)),this.a.textRenderers.add(this.Yf),()=>{this.el.textContent="",this.Yf.detach(),this.a.textRenderers.remove(this.Yf)}}dg(){this.Zf.dir=this.$props.textDir()}eg(){if(this.od())return;const{currentTime:t}=this.a.$state;this.Zf.currentTime=t()}}Ei.props={textDir:"ltr"};class is extends y{onSetup(){this.a=p(),this.fg(),this.gg(),this.Md()}onAttach(t){t.style.setProperty("pointer-events","none"),l(this.hg.bind(this)),l(this.fg.bind(this)),l(this.gg.bind(this)),l(this.Md.bind(this));const{started:e}=this.a.$state;this.setAttributes({"data-visible":()=>!e(),"data-loading":this.Jd.bind(this),"data-error":this.Id.bind(this),"data-hidden":this.$state.hidden})}onConnect(t){const{canLoad:e,poster:s}=this.a.$state;window.requestAnimationFrame(()=>{e()||Se(s())}),l(this.C.bind(this))}Id(){const{error:t}=this.$state;return!jt(t())}Md(){const{src:t}=this.$props,{$iosControls:e}=this.a,{poster:s}=this.a.$state;this.el&&g(this.el,"display",e()?"none":null),this.$state.hidden.set(this.Id()||!(t()||s())||e())}Jd(){const{loading:t,hidden:e}=this.$state;return!e()&&t()}hg(){const t=this.$state.img();t&&(u(t,"load",this.ig.bind(this)),u(t,"error",this.E.bind(this)))}fg(){const{src:t}=this.$props,{src:e}=this.$state,{canLoad:s,poster:i}=this.a.$state,a=t()||i();i()!==a&&this.a.delegate.d("poster-change",{detail:a}),e.set(s()&&a.length?a:null)}gg(){const{src:t,alt:e}=this.$state;e.set(t()?this.$props.alt():null)}C(){const{loading:t,error:e}=this.$state,{canLoad:s,poster:i}=this.a.$state;t.set(s()&&!!i()),e.set(null)}ig(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)}E(t){const{loading:e,error:s}=this.$state;e.set(!1),s.set(t)}}is.props={src:void 0,alt:void 0},is.state=new ot({img:null,src:null,alt:null,loading:!0,error:null,hidden:!1});class ns extends y{onSetup(){this.a=p(),this.wb();const{type:t,remainder:e}=this.$props;this.setAttributes({"data-type":t,"data-remainder":e})}onAttach(t){l(this.wb.bind(this))}wb(){const{type:t,remainder:e,padHours:s,padMinutes:i,showHours:a}=this.$props,r=this.jg(t()),h=this.a.$state.duration();if(!Number.isFinite(r+h)){this.$state.timeText.set("LIVE");return}const o=e()?Math.max(0,h-r):r,c=ie(o,s(),i(),a());this.$state.timeText.set(c)}jg(t){const{bufferedEnd:e,duration:s,currentTime:i}=this.a.$state;switch(t){case"buffered":return e();case"duration":return s();default:return i()}}}ns.props={type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1},ns.state=new ot({timeText:""});var ro=Object.defineProperty,oo=Object.getOwnPropertyDescriptor,ho=Object.getPrototypeOf,lo=Reflect.get,as=(n,t,e,s)=>{for(var i=s>1?void 0:s?oo(t,e):t,a=n.length-1,r;a>=0;a--)(r=n[a])&&(i=(s?r(t,e,i):r(i))||i);return s&&i&&ro(t,e,i),i},Mi=(n,t,e)=>lo(ho(n),e,t);class Et extends y{constructor(){super(...arguments),this.menuContainer=null}get isMatch(){return this.Eb.matches}get isSmallLayout(){return this.Db.matches}onSetup(){const{when:t,smallWhen:e,thumbnails:s,translations:i,menuGroup:a,noModal:r}=this.$props;this.Eb=Xt.create(t),this.Db=Xt.create(e),this.setAttributes({"data-match":this.Eb.$matches,"data-size":()=>this.Db.matches?"sm":null});const h=this;G(Si,{smQueryList:this.Db,thumbnails:s,translations:i,menuGroup:a,noModal:r,get menuContainer(){return h.menuContainer}})}}Et.props={when:"",smallWhen:"",thumbnails:"",customIcons:!1,translations:null,menuGroup:"bottom",noModal:!1},as([w],Et.prototype,"menuContainer",2),as([w],Et.prototype,"isMatch",1),as([w],Et.prototype,"isSmallLayout",1);const ce=class extends Et{};ce.props={...Mi(ce,ce,"props"),when:"(view-type: audio)",smallWhen:"(width < 576)"};let co=ce;const de=class extends Et{};de.props={...Mi(de,de,"props"),when:"(view-type: video)",smallWhen:"(width < 576) or (height < 380)"};let uo=de;function et(n,t){return n()?.[t]??t}const Si=at();function I(){return A(Si)}class rs extends v(HTMLElement,rr){}rs.tagName="media-player",rs.attrs={preferNativeHLS:"prefer-native-hls"};class Pi extends v(HTMLElement,Re){constructor(){super(...arguments),this.lb=null}onSetup(){this.a=p(),this.setAttribute("keep-alive","")}onDestroy(){this.lb?.remove(),this.lb=null}onConnect(){l(()=>{const t=this.$state.loader(),e=t?t.mediaType()==="audio"?this.mb():this.nb():null;if(this.lb!==e){const s=this.lb?.parentElement??this;this.lb?.remove(),this.lb=e,e&&s.prepend(e)}this.load(e)})}mb(){const t=this.lb instanceof HTMLAudioElement?this.lb:document.createElement("audio");g(t,"preload","none"),g(t,"aria-hidden","true");const{controls:e,crossorigin:s}=this.a.$state;return l(()=>{g(t,"controls",e()),g(t,"crossorigin",s())}),t}nb(){const t=this.lb instanceof HTMLVideoElement?this.lb:document.createElement("video"),{controls:e,crossorigin:s,poster:i}=this.a.$state,{$iosControls:a}=this.a,r=D(()=>e()||a()?"":null),h=D(()=>i()&&(e()||a())?i():null);return l(()=>{g(t,"controls",r()),g(t,"crossorigin",s()),g(t,"poster",h())}),t}}Pi.tagName="media-provider",b(rs),b(Pi);var os;const ue=window,Mt=ue.trustedTypes,Ci=Mt?Mt.createPolicy("lit-html",{createHTML:n=>n}):void 0,hs="$lit$",rt=`lit$${(Math.random()+"").slice(9)}$`,Ai="?"+rt,po=`<${Ai}>`,mt=document,Rt=()=>mt.createComment(""),Vt=n=>n===null||typeof n!="object"&&typeof n!="function",ji=Array.isArray,mo=n=>ji(n)||typeof n?.[Symbol.iterator]=="function",ls=`[ 	
\f\r]`,Wt=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Li=/-->/g,Ni=/>/g,gt=RegExp(`>|${ls}(?:([^\\s"'>=/]+)(${ls}*=${ls}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Ii=/'/g,qi=/"/g,Oi=/^(?:script|style|textarea|title)$/i,go=n=>(t,...e)=>({Tb:n,strings:t,values:e}),$=go(1),St=Symbol.for("lit-noChange"),j=Symbol.for("lit-nothing"),Di=new WeakMap,ft=mt.createTreeWalker(mt,129,null,!1);function Fi(n,t){if(!Array.isArray(n)||!n.hasOwnProperty("raw"))throw Error("invalid template strings array");return Ci!==void 0?Ci.createHTML(t):t}const fo=(n,t)=>{const e=n.length-1,s=[];let i,a=t===2?"<svg>":"",r=Wt;for(let h=0;h<e;h++){const o=n[h];let c,m,f=-1,k=0;for(;k<o.length&&(r.lastIndex=k,m=r.exec(o),m!==null);)k=r.lastIndex,r===Wt?m[1]==="!--"?r=Li:m[1]!==void 0?r=Ni:m[2]!==void 0?(Oi.test(m[2])&&(i=RegExp("</"+m[2],"g")),r=gt):m[3]!==void 0&&(r=gt):r===gt?m[0]===">"?(r=i??Wt,f=-1):m[1]===void 0?f=-2:(f=r.lastIndex-m[2].length,c=m[1],r=m[3]===void 0?gt:m[3]==='"'?qi:Ii):r===qi||r===Ii?r=gt:r===Li||r===Ni?r=Wt:(r=gt,i=void 0);const R=r===gt&&n[h+1].startsWith("/>")?" ":"";a+=r===Wt?o+po:f>=0?(s.push(c),o.slice(0,f)+hs+o.slice(f)+rt+R):o+rt+(f===-2?(s.push(void 0),h):R)}return[Fi(n,a+(n[e]||"<?>")+(t===2?"</svg>":"")),s]};class Qt{constructor({strings:t,Tb:e},s){let i;this.parts=[];let a=0,r=0;const h=t.length-1,o=this.parts,[c,m]=fo(t,e);if(this.el=Qt.createElement(c,s),ft.currentNode=this.el.content,e===2){const f=this.el.content,k=f.firstChild;k.remove(),f.append(...k.childNodes)}for(;(i=ft.nextNode())!==null&&o.length<h;){if(i.nodeType===1){if(i.hasAttributes()){const f=[];for(const k of i.getAttributeNames())if(k.endsWith(hs)||k.startsWith(rt)){const R=m[r++];if(f.push(k),R!==void 0){const xe=i.getAttribute(R.toLowerCase()+hs).split(rt),Jt=/([.?@])?(.*)/.exec(R);o.push({type:1,index:a,name:Jt[2],strings:xe,ctor:Jt[1]==="."?vo:Jt[1]==="?"?$o:Jt[1]==="@"?wo:pe})}else o.push({type:6,index:a})}for(const k of f)i.removeAttribute(k)}if(Oi.test(i.tagName)){const f=i.textContent.split(rt),k=f.length-1;if(k>0){i.textContent=Mt?Mt.emptyScript:"";for(let R=0;R<k;R++)i.append(f[R],Rt()),ft.nextNode(),o.push({type:2,index:++a});i.append(f[k],Rt())}}}else if(i.nodeType===8)if(i.data===Ai)o.push({type:2,index:a});else{let f=-1;for(;(f=i.data.indexOf(rt,f+1))!==-1;)o.push({type:7,index:a}),f+=rt.length-1}a++}}static createElement(t,e){const s=mt.createElement("template");return s.innerHTML=t,s}}function Pt(n,t,e=n,s){var i,a,r,h;if(t===St)return t;let o=s!==void 0?(i=e.Vb)===null||i===void 0?void 0:i[s]:e._b;const c=Vt(t)?void 0:t.cc;return o?.constructor!==c&&((a=o?.dc)===null||a===void 0||a.call(o,!1),c===void 0?o=void 0:(o=new c(n),o.ec(n,e,s)),s!==void 0?((r=(h=e).Vb)!==null&&r!==void 0?r:h.Vb=[])[s]=o:e._b=o),o!==void 0&&(t=Pt(n,o.fc(n,t.values),o,s)),t}let bo=class{constructor(t,e){this.Wb=[],this.Ub=void 0,this.Xb=t,this.Nb=e}get parentNode(){return this.Nb.parentNode}get Ob(){return this.Nb.Ob}u(t){var e;const{el:{content:s},parts:i}=this.Xb,a=((e=t?.creationScope)!==null&&e!==void 0?e:mt).importNode(s,!0);ft.currentNode=a;let r=ft.nextNode(),h=0,o=0,c=i[0];for(;c!==void 0;){if(h===c.index){let m;c.type===2?m=new Ut(r,r.nextSibling,this,t):c.type===1?m=new c.ctor(r,c.name,c.strings,this,t):c.type===6&&(m=new xo(r,this,t)),this.Wb.push(m),c=i[++o]}h!==c?.index&&(r=ft.nextNode(),h++)}return ft.currentNode=mt,a}v(t){let e=0;for(const s of this.Wb)s!==void 0&&(s.strings!==void 0?(s.Pb(t,s,e),e+=s.strings.length-2):s.Pb(t[e])),e++}};class Ut{constructor(t,e,s,i){var a;this.type=2,this.Mb=j,this.Ub=void 0,this.Qb=t,this.Rb=e,this.Nb=s,this.options=i,this.Yb=(a=i?.isConnected)===null||a===void 0||a}get Ob(){var t,e;return(e=(t=this.Nb)===null||t===void 0?void 0:t.Ob)!==null&&e!==void 0?e:this.Yb}get parentNode(){let t=this.Qb.parentNode;const e=this.Nb;return e!==void 0&&t?.nodeType===11&&(t=e.parentNode),t}get startNode(){return this.Qb}get endNode(){return this.Rb}Pb(t,e=this){t=Pt(this,t,e),Vt(t)?t===j||t==null||t===""?(this.Mb!==j&&this.Sb(),this.Mb=j):t!==this.Mb&&t!==St&&this.Zb(t):t.Tb!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):mo(t)?this.T(t):this.Zb(t)}k(t){return this.Qb.parentNode.insertBefore(t,this.Rb)}$(t){this.Mb!==t&&(this.Sb(),this.Mb=this.k(t))}Zb(t){this.Mb!==j&&Vt(this.Mb)?this.Qb.nextSibling.data=t:this.$(mt.createTextNode(t)),this.Mb=t}g(t){var e;const{values:s,Tb:i}=t,a=typeof i=="number"?this.$b(t):(i.el===void 0&&(i.el=Qt.createElement(Fi(i.h,i.h[0]),this.options)),i);if(((e=this.Mb)===null||e===void 0?void 0:e.Xb)===a)this.Mb.v(s);else{const r=new bo(a,this),h=r.u(this.options);r.v(s),this.$(h),this.Mb=r}}$b(t){let e=Di.get(t.strings);return e===void 0&&Di.set(t.strings,e=new Qt(t)),e}T(t){ji(this.Mb)||(this.Mb=[],this.Sb());const e=this.Mb;let s,i=0;for(const a of t)i===e.length?e.push(s=new Ut(this.k(Rt()),this.k(Rt()),this,this.options)):s=e[i],s.Pb(a),i++;i<e.length&&(this.Sb(s&&s.Rb.nextSibling,i),e.length=i)}Sb(t=this.Qb.nextSibling,e){var s;for((s=this.ac)===null||s===void 0||s.call(this,!1,!0,e);t&&t!==this.Rb;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){var e;this.Nb===void 0&&(this.Yb=t,(e=this.ac)===null||e===void 0||e.call(this,t))}}class pe{constructor(t,e,s,i,a){this.type=1,this.Mb=j,this.Ub=void 0,this.element=t,this.name=e,this.Nb=i,this.options=a,s.length>2||s[0]!==""||s[1]!==""?(this.Mb=Array(s.length-1).fill(new String),this.strings=s):this.Mb=j}get tagName(){return this.element.tagName}get Ob(){return this.Nb.Ob}Pb(t,e=this,s,i){const a=this.strings;let r=!1;if(a===void 0)t=Pt(this,t,e,0),r=!Vt(t)||t!==this.Mb&&t!==St,r&&(this.Mb=t);else{const h=t;let o,c;for(t=a[0],o=0;o<a.length-1;o++)c=Pt(this,h[s+o],e,o),c===St&&(c=this.Mb[o]),r||(r=!Vt(c)||c!==this.Mb[o]),c===j?t=j:t!==j&&(t+=(c??"")+a[o+1]),this.Mb[o]=c}r&&!i&&this.j(t)}j(t){t===j?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class vo extends pe{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===j?void 0:t}}const yo=Mt?Mt.emptyScript:"";class $o extends pe{constructor(){super(...arguments),this.type=4}j(t){t&&t!==j?this.element.setAttribute(this.name,yo):this.element.removeAttribute(this.name)}}class wo extends pe{constructor(t,e,s,i,a){super(t,e,s,i,a),this.type=5}Pb(t,e=this){var s;if((t=(s=Pt(this,t,e,0))!==null&&s!==void 0?s:j)===St)return;const i=this.Mb,a=t===j&&i!==j||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,r=t!==j&&(i===j||a);a&&this.element.removeEventListener(this.name,this,i),r&&this.element.addEventListener(this.name,this,t),this.Mb=t}handleEvent(t){var e,s;typeof this.Mb=="function"?this.Mb.call((s=(e=this.options)===null||e===void 0?void 0:e.host)!==null&&s!==void 0?s:this.element,t):this.Mb.handleEvent(t)}}class xo{constructor(t,e,s){this.element=t,this.type=6,this.Ub=void 0,this.Nb=e,this.options=s}get Ob(){return this.Nb.Ob}Pb(t){Pt(this,t)}}const Hi=ue.litHtmlPolyfillSupport;Hi?.(Qt,Ut),((os=ue.litHtmlVersions)!==null&&os!==void 0?os:ue.litHtmlVersions=[]).push("2.8.0");const Ri=(n,t,e)=>{var s,i;const a=(s=e?.renderBefore)!==null&&s!==void 0?s:t;let r=a.bc;if(r===void 0){const h=(i=e?.renderBefore)!==null&&i!==void 0?i:null;a.bc=r=new Ut(t.insertBefore(Rt(),h),h,void 0,e??{})}return r.Pb(n),r};const ko=n=>n.strings===void 0;const cs={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},Vi=n=>(...t)=>({cc:n,values:t});let Wi=class{constructor(t){}get Ob(){return this.Nb.Ob}ec(t,e,s){this.rh=t,this.Nb=e,this.th=s}fc(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}};const Bt=(n,t)=>{var e,s;const i=n.Ub;if(i===void 0)return!1;for(const a of i)(s=(e=a).dc)===null||s===void 0||s.call(e,t,!1),Bt(a,t);return!0},me=n=>{let t,e;do{if((t=n.Nb)===void 0)break;e=t.Ub,e.delete(n),n=t}while(e?.size===0)},Bi=n=>{for(let t;t=n.Nb;n=t){let e=t.Ub;if(e===void 0)t.Ub=e=new Set;else if(e.has(n))break;e.add(n),Mo(t)}};function To(n){this.Ub!==void 0?(me(this),this.Nb=n,Bi(this)):this.Nb=n}function Eo(n,t=!1,e=0){const s=this.Mb,i=this.Ub;if(i!==void 0&&i.size!==0)if(t)if(Array.isArray(s))for(let a=e;a<s.length;a++)Bt(s[a],!1),me(s[a]);else s!=null&&(Bt(s,!1),me(s));else Bt(this,n)}const Mo=n=>{var t,e,s,i;n.type==cs.CHILD&&((t=(s=n).ac)!==null&&t!==void 0||(s.ac=Eo),(e=(i=n).sh)!==null&&e!==void 0||(i.sh=To))};let So=class extends Wi{constructor(){super(...arguments),this.Ub=void 0}ec(t,e,s){super.ec(t,e,s),Bi(this),this.isConnected=t.Ob}dc(t,e=!0){var s,i;t!==this.isConnected&&(this.isConnected=t,t?(s=this.reconnected)===null||s===void 0||s.call(this):(i=this.disconnected)===null||i===void 0||i.call(this)),e&&(Bt(this,t),me(this))}setValue(t){if(ko(this.rh))this.rh.Pb(t,this);else{const e=[...this.rh.Mb];e[this.th]=t,this.rh.Pb(e,this,0)}}disconnected(){}reconnected(){}};const Ki=n=>n??j;let Po=class extends So{constructor(t){super(t),this.Fb=null,this.v=null,this.Gb=!1,this.Gb=t.type===cs.ATTRIBUTE}render(t){this.Fb!==t&&(this.Fb=t,this.disconnected(),this.isConnected&&this.Hb());const e=this.Fb();return this.Gb?Ki(e):e}reconnected(){this.Hb()}disconnected(){this.Gb||this.setValue(null),this.v?.(),this.v=null}Hb(){this.Fb&&(this.v=l(this.Ib.bind(this)))}Ib(){this.setValue(this.Fb?.())}};const Y=Vi(Po);function q(n){return Y(D(n))}class zi extends HTMLElement{constructor(){super(...arguments),this.rootPart=null}connectedCallback(){this.rootPart=Ri(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){this.rootPart?.setConnected(!1),this.rootPart=null}}class Qi{constructor(t,e){this.elements=new Set,this.Lb=ht(this.Jb.bind(this)),this.Kb=t,this.Sa=e}connect(){this.Jb();const t=new MutationObserver(this.Lb);t.observe(this.Kb,{childList:!0}),T(()=>t.disconnect()),T(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(t,e){t instanceof Node?(e.textContent="",e.append(t)):Ri(t,e),e.style.display||(e.style.display="contents");const s=e.firstElementChild;if(!s)return;const i=e.getAttribute("data-class");i&&s.classList.add(...i.split(" "))}Jb(){for(const t of this.Kb.querySelectorAll("slot"))t.hasAttribute("name")&&this.elements.add(t);this.Sa(this.elements)}}let Co=0,ge="data-slot-id";class Ui{constructor(t){this.Lb=ht(this.Jb.bind(this)),this.Kb=t,this.slots=new Qi(t,this.Jb.bind(this))}connect(){this.slots.connect(),this.Jb();const t=new MutationObserver(this.Lb);t.observe(this.Kb,{childList:!0}),T(()=>t.disconnect())}Jb(){for(const t of this.Kb.children){if(t.nodeType!==1)continue;const e=t.getAttribute("slot");if(!e)continue;t.style.display="none";let s=t.getAttribute(ge);s||t.setAttribute(ge,s=++Co+"");for(const i of this.slots.elements){if(i.getAttribute("name")!==e||i.getAttribute(ge)===s)continue;const a=document.importNode(t,!0);e.includes("-icon")&&a.classList.add("vds-icon"),a.style.display="",a.removeAttribute("slot"),this.slots.assign(a,i),i.setAttribute(ge,s)}}}}function fe({label:n,icon:t}){return $`
    <media-menu-button class="vds-menu-button">
      <slot name="menu-arrow-left-icon" data-class="vds-menu-button-close-icon"></slot>
      <slot name="${t}-icon" data-class="vds-menu-button-icon"></slot>
      <span class="vds-menu-button-label">${Y(n)}</span>
      <span class="vds-menu-button-hint" data-part="hint"></span>
      <slot name="menu-arrow-right-icon" data-class="vds-menu-button-open-icon"></slot>
    </media-menu-button>
  `}function P(n,t){return q(()=>et(n,t))}function Kt({tooltip:n}){const{translations:t}=I(),{paused:e}=p().$state,s=q(()=>et(t,e()?"Play":"Pause"));return $`
    <media-tooltip class="vds-play-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-play-button class="vds-play-button vds-button" aria-label=${s}>
          <slot name="play-icon" data-class="vds-play-icon"></slot>
          <slot name="pause-icon" data-class="vds-pause-icon"></slot>
          <slot name="replay-icon" data-class="vds-replay-icon"></slot>
        </media-play-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${n}>
        <span class="vds-play-tooltip-text">${P(t,"Play")}</span>
        <span class="vds-pause-tooltip-text">${P(t,"Pause")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function be({tooltip:n}){const{translations:t}=I(),{muted:e}=p().$state,s=q(()=>et(t,(e(),"Unmute")));return $`
    <media-tooltip class="vds-mute-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-mute-button class="vds-mute-button vds-button" aria-label=${s}>
          <slot name="mute-icon" data-class="vds-mute-icon"></slot>
          <slot name="volume-low-icon" data-class="vds-volume-low-icon"></slot>
          <slot name="volume-high-icon" data-class="vds-volume-high-icon"></slot>
        </media-mute-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${n}>
        <span class="vds-mute-tooltip-text">${P(t,"Unmute")}</span>
        <span class="vds-unmute-tooltip-text">${P(t,"Mute")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function ve({tooltip:n}){const{translations:t}=I(),{textTrack:e}=p().$state,s=q(()=>et(t,e()?"Closed-Captions Off":"Closed-Captions On"));return $`
    <media-tooltip class="vds-caption-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-caption-button class="vds-caption-button vds-button" aria-label=${s}>
          <slot name="cc-on-icon" data-class="vds-cc-on-icon"></slot>
          <slot name="cc-off-icon" data-class="vds-cc-off-icon"></slot>
        </media-caption-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${n}>
        <span class="vds-cc-on-tooltip-text">${P(t,"Closed-Captions Off")}</span>
        <span class="vds-cc-off-tooltip-text">${P(t,"Closed-Captions On")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ao(){const{translations:n}=I(),{pictureInPicture:t}=p().$state,e=q(()=>et(n,t()?"Exit PiP":"Enter PiP"));return $`
    <media-tooltip class="vds-pip-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-pip-button class="vds-pip-button vds-button" aria-label=${e}>
          <slot name="pip-enter-icon" data-class="vds-pip-enter-icon"></slot>
          <slot name="pip-exit-icon" data-class="vds-pip-exit-icon"></slot>
        </media-pip-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content">
        <span class="vds-pip-enter-tooltip-text">${P(n,"Enter PiP")}</span>
        <span class="vds-pip-exit-tooltip-text">${P(n,"Exit PiP")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function Ji({tooltip:n}){const{translations:t}=I(),{fullscreen:e}=p().$state,s=q(()=>et(t,e()?"Exit Fullscreen":"Enter Fullscreen"));return $`
    <media-tooltip class="vds-fullscreen-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-fullscreen-button class="vds-fullscreen-button vds-button" aria-label=${s}>
          <slot name="fs-enter-icon" data-class="vds-fs-enter-icon"></slot>
          <slot name="fs-exit-icon" data-class="vds-fs-exit-icon"></slot>
        </media-fullscreen-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${n}>
        <span class="vds-fs-enter-tooltip-text">${P(t,"Enter Fullscreen")}</span>
        <span class="vds-fs-exit-tooltip-text">${P(t,"Exit Fullscreen")}</span>
      </media-tooltip-content>
    </media-tooltip>
  `}function ye({seconds:n,tooltip:t}){const{translations:e}=I(),s=n>=0?"Seek Forward":"Seek Backward",i=P(e,s);return $`
    <media-tooltip class="vds-seek-tooltip vds-tooltip">
      <media-tooltip-trigger>
        <media-seek-button
          class="vds-seek-button vds-button"
          seconds=${n}
          aria-label=${i}
        >
          ${n>=0?$`<slot name="seek-forward-icon"></slot>`:$`<slot name="seek-backward-icon"></slot>`}
        </media-seek-button>
      </media-tooltip-trigger>
      <media-tooltip-content class="vds-tooltip-content" placement=${t}>
        ${P(e,s)}
      </media-tooltip-content>
    </media-tooltip>
  `}function Zi(){const{translations:n}=I(),t=P(n,"Volume");return $`
    <media-volume-slider class="vds-volume-slider vds-slider" aria-label=${t}>
      <div class="vds-slider-track"></div>
      <div class="vds-slider-track-fill vds-slider-track"></div>
      <media-slider-preview class="vds-slider-preview" no-clamp>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
      <div class="vds-slider-thumb"></div>
    </media-volume-slider>
  `}function $e(){const{width:n}=p().$state,{thumbnails:t,translations:e}=I(),s=P(e,"Seek");return $`
    <media-time-slider class="vds-time-slider vds-slider" aria-label=${s}>
      <media-slider-chapters class="vds-slider-chapters" ?disabled=${Y(()=>n()<768)}>
        <template>
          <div class="vds-slider-chapter">
            <div class="vds-slider-track"></div>
            <div class="vds-slider-track-fill vds-slider-track"></div>
            <div class="vds-slider-progress vds-slider-track"></div>
          </div>
        </template>
      </media-slider-chapters>
      <div class="vds-slider-thumb"></div>
      <media-slider-preview class="vds-slider-preview">
        <media-slider-thumbnail
          class="vds-slider-thumbnail vds-thumbnail"
          src=${Y(t)}
        ></media-slider-thumbnail>
        <div class="vds-slider-chapter-title" data-part="chapter-title"></div>
        <media-slider-value class="vds-slider-value"></media-slider-value>
      </media-slider-preview>
    </media-time-slider>
  `}function Yi(){const{translations:n}=I(),{live:t}=p().$state,e=P(n,"Skip To Live"),s=P(n,"LIVE");return t()?$`
    <media-live-button class="vds-live-button" aria-label=${e}>
      <span class="vds-live-button-text">${s}</span>
    </media-live-button
  `:null}function jo(){return $`
    <div class="vds-time-group">
      <media-time class="vds-time" type="current"></media-time>
      <div class="vds-time-divider">/</div>
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function ds(){const{live:n}=p().$state;return n()?Yi():jo()}function Gi(n,t){return $`
    <media-menu-portal .container=${n} disabled="fullscreen">
      ${t}
    </media-menu-portal>
  `}function Xi({placement:n,tooltip:t,portal:e}){const{viewType:s}=p().$state,{translations:i,smQueryList:a,thumbnails:r,menuContainer:h,noModal:o,menuGroup:c}=I(),m=D(()=>o()?At(n):a.matches?null:At(n)),f=D(()=>!a.matches&&c()==="bottom"&&s()==="video"?26:0),k=$`
    <media-menu-items
      class="vds-chapters-menu-items vds-menu-items"
      placement=${Y(m)}
      offset=${Y(f)}
    >
      <media-chapters-radio-group
        class="vds-chapters-radio-group vds-radio-group"
        thumbnails=${Y(r)}
      >
        <template>
          <media-radio class="vds-chapter-radio vds-radio">
            <media-thumbnail class="vds-thumbnail"></media-thumbnail>
            <div class="vds-chapter-radio-content">
              <span class="vds-chapter-radio-label" data-part="label"></span>
              <span class="vds-chapter-radio-start-time" data-part="start-time"></span>
              <span class="vds-chapter-radio-duration" data-part="duration"></span>
            </div>
          </media-radio>
        </template>
      </media-chapters-radio-group>
    </media-menu-items>
  `;return $`
    <!-- Chapters Menu -->
    <media-menu class="vds-chapters-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${P(i,"Chapters")}
          >
            <slot name="menu-chapters-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${Ps(t)?Y(t):t}
        >
          ${P(i,"Chapters")}
        </media-tooltip-content>
      </media-tooltip>
      ${e?Gi(h,k):k}
    </media-menu>
  `}function _i({placement:n,portal:t,tooltip:e}){const{viewType:s}=p().$state,{translations:i,smQueryList:a,menuContainer:r,noModal:h,menuGroup:o}=I(),c=D(()=>h()?At(n):a.matches?null:At(n)),m=D(()=>!a.matches&&o()==="bottom"&&s()==="video"?26:0),f=$`
    <media-menu-items
      class="vds-settings-menu-items vds-menu-items"
      placement=${Y(c)}
      offset=${Y(m)}
    >
      ${Lo()}${No()}${Io()}${qo()}
    </media-menu-items>
  `;return $`
    <media-menu class="vds-settings-menu vds-menu">
      <media-tooltip class="vds-tooltip">
        <media-tooltip-trigger>
          <media-menu-button
            class="vds-menu-button vds-button"
            aria-label=${P(i,"Settings")}
          >
            <slot name="menu-settings-icon" data-class="vds-rotate-icon"></slot>
          </media-menu-button>
        </media-tooltip-trigger>
        <media-tooltip-content
          class="vds-tooltip-content"
          placement=${Ps(e)?Y(e):e}
        >
          ${P(i,"Settings")}
        </media-tooltip-content>
      </media-tooltip>
      ${t?Gi(r,f):f}
    </media-menu>
  `}function Lo(){const{translations:n}=I();return $`
    <!-- Audio Menu -->
    <media-menu class="vds-audio-menu vds-menu">
      ${fe({label:()=>et(n,"Audio"),icon:"menu-audio"})}
      <media-menu-items class="vds-menu-items">
        <media-audio-radio-group
          class="vds-audio-radio-group vds-radio-group"
          empty-label=${P(n,"Default")}
        >
          <template>
            <media-radio class="vds-audio-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-audio-radio-group>
      </media-menu-items>
    </media-menu>
  `}function No(){const{translations:n}=I();return $`
    <!-- Speed Menu -->
    <media-menu class="vds-speed-menu vds-menu">
      ${fe({label:()=>et(n,"Speed"),icon:"menu-speed"})}
      <media-menu-items class="vds-menu-items">
        <media-speed-radio-group
          class="vds-speed-radio-group vds-radio-group"
          normal-label=${P(n,"Normal")}
        >
          <template>
            <media-radio class="vds-speed-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-speed-radio-group>
      </media-menu-items>
    </media-menu>
  `}function Io(){const{translations:n}=I();return $`
    <!-- Quality Menu -->
    <media-menu class="vds-quality-menu vds-menu">
      ${fe({label:()=>et(n,"Quality"),icon:"menu-quality"})}
      <media-menu-items class="vds-menu-items">
        <media-quality-radio-group
          class="vds-quality-radio-group vds-radio-group"
          auto-label=${P(n,"Auto")}
        >
          <template>
            <media-radio class="vds-quality-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
              <span class="vds-radio-hint" data-part="bitrate"></span>
            </media-radio>
          </template>
        </media-quality-radio-group>
      </media-menu-items>
    </media-menu>
  `}function qo(){const{translations:n}=I();return $`
    <!-- Captions Menu -->
    <media-menu class="vds-captions-menu vds-menu">
      ${fe({label:()=>et(n,"Captions"),icon:"menu-captions"})}
      <media-menu-items class="vds-menu-items">
        <media-captions-radio-group
          class="vds-captions-radio-group vds-radio-group"
          off-label=${P(n,"Off")}
        >
          <template>
            <media-radio class="vds-caption-radio vds-radio">
              <div class="vds-radio-check"></div>
              <span class="vds-radio-label" data-part="label"></span>
            </media-radio>
          </template>
        </media-captions-radio-group>
      </media-menu-items>
    </media-menu>
  `}function tn(n){let t=document.querySelector(`body > .${n}`);return t||(t=document.createElement("div"),t.style.display="contents",t.classList.add(n),document.body.append(t)),t}function Oo(){return $`
    <media-captions class="vds-captions"></media-captions>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">${$e()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${ye({seconds:-10,tooltip:"top start"})}
        ${Kt({tooltip:"top"})}${ye({tooltip:"top",seconds:10})}
        ${q(ds)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${be({tooltip:"top"})}
        ${Zi()}${ve({tooltip:"top"})} ${en()}
      </media-controls-group>
    </media-controls>
  `}function Do(){return $`
    <media-captions class="vds-captions"></media-captions>
    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        ${q(Fo)}
        ${be({tooltip:"top start"})}${q(Yi)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${ve({tooltip:"top"})}${en()}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${$e()}</media-controls-group>

      ${q(Ho)}${q(Ro)}
    </media-controls>
  `}function Fo(){const{live:n,canSeek:t}=p().$state;return n()&&!t()?Kt({tooltip:"top start"}):null}function Ho(){const{live:n}=p().$state;return n()?null:$`
        <media-controls-group class="vds-controls-group">
          <media-time class="vds-time" type="current"></media-time>
          <div class="vds-controls-spacer"></div>
          <media-time class="vds-time" type="duration"></media-time>
        </media-controls-group>
      `}function Ro(){const{canSeek:n}=p().$state;return n()?$`
        <media-controls-group class="vds-controls-group">
          <div class="vds-controls-spacer"></div>
          ${ye({seconds:-10,tooltip:"top"})}
          ${Kt({tooltip:"top"})}
          ${ye({tooltip:"top",seconds:10})}
          <div class="vds-controls-spacer"></div>
        </media-controls-group>
      `:null}function en(){const n="top end";return $`
    ${Xi({tooltip:"top",placement:n,portal:!0})}
    ${_i({tooltip:"top end",placement:n,portal:!0})}
  `}class us extends Wi{constructor(t){if(super(t),this.et=j,t.type!==cs.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===j||t==null)return this.ft=void 0,this.et=t;if(t===St)return t;if(typeof t!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.et)return this.ft;this.et=t;const e=[t];return e.raw=e,this.ft={Tb:this.constructor.resultType,strings:e,values:[]}}}us.directiveName="unsafeHTML",us.resultType=1;class ps extends us{}ps.directiveName="unsafeSVG",ps.resultType=2;const Vo=Vi(ps);function Wo({name:n,class:t,state:e,paths:s}){return $`<svg
    class="${"vds-icon"+(t?` ${t}`:"")}"
    viewBox="0 0 32 32"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Ki(n??e)}
  >
    ${V(s)?Vo(s):Y(s)}
  </svg>`}class Bo{constructor(t){this.Jj={},this.Kj=!1,this.Kb=t,this.slots=new Qi(t,this.Lj.bind(this))}connect(){this.slots.connect(),T(this.disconnect.bind(this))}load(){this.jb().then(t=>{this.Jj=t,this.Kj=!0,this.Lj()})}disconnect(){for(const{slot:t}of this.Mj())t.textContent=""}*Mj(){for(const t of Object.keys(this.Jj)){const e=`${t}-icon`;for(const s of this.slots.elements)s.name===e&&(yield{icon:this.Jj[t],slot:s})}}Lj(){if(this.Kj)for(const{icon:t,slot:e}of this.Mj())this.slots.assign(t,e)}}class Ko extends Bo{connect(){const t=this.wg();t&&(super.connect(),t.$state.canLoad()?this.load():u(t,"can-load",()=>this.load(),{once:!0}))}wg(){let t=this.Kb.parentElement;for(;t&&t.localName!=="media-player";)t=t.parentElement;return t}}class sn extends Ko{async jb(){const t=(await import("./chunks/vidstack-b60f272c.js")).icons,e={};for(const s of Object.keys(t))e[s]=Wo({name:s,paths:t[s]});return e}}class nn extends v(zi,co){onSetup(){this.forwardKeepAlive=!1,this.a=p(),this.classList.add("vds-audio-layout"),this.menuContainer=tn("vds-audio-layout"),l(()=>{this.menuContainer&&g(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),T(()=>this.menuContainer?.remove())}onConnect(){l(()=>{this.$props.customIcons()?new Ui(this).connect():new sn(this).connect()})}ob(){const{streamType:t}=this.a.$state;return this.isMatch&&t()!=="unknown"?this.isSmallLayout?Do():Oo():null}render(){return $`${q(this.ob.bind(this))}`}}nn.tagName="media-audio-layout";function zo(){return $`
    ${an()}${ms()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      ${q(Uo)}

      <div class="vds-controls-spacer"></div>

      <media-controls-group class="vds-controls-group">${$e()}</media-controls-group>

      <media-controls-group class="vds-controls-group">
        ${Kt({tooltip:"top start"})}
        ${be({tooltip:"top"})}${Zi()}
        ${q(ds)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        ${ve({tooltip:"top"})}${q(Qo)}
        ${Ao()} ${Ji({tooltip:"top end"})}
      </media-controls-group>
    </media-controls>
  `}function Qo(){const{menuGroup:n}=I();return n()==="bottom"?gs():null}function Uo(){const{menuGroup:n}=I(),t=n()==="top"?$`
            <div class="vds-controls-spacer"></div>
            ${gs()}
          `:null;return $`
    <media-controls-group class="vds-controls-group">${t}</media-controls-group>
  `}function Jo(){return $`
    ${an()}${ms()}
    <media-captions class="vds-captions"></media-captions>

    <div class="vds-scrim"></div>

    <media-controls class="vds-controls">
      <media-controls-group class="vds-controls-group">
        <div class="vds-controls-spacer"></div>
        ${ve({tooltip:"bottom"})}
        ${gs()}${be({tooltip:"bottom end"})}
      </media-controls-group>

      <div class="vds-controls-group">${Kt({tooltip:"top"})}</div>

      <media-controls-group class="vds-controls-group">
        ${q(ds)}
        <media-chapter-title class="vds-chapter-title"></media-chapter-title>
        <div class="vds-controls-spacer"></div>
        ${Ji({tooltip:"top end"})}
      </media-controls-group>

      <media-controls-group class="vds-controls-group">${$e()}</media-controls-group>
    </media-controls>

    ${q(Zo)}
  `}function Zo(){const{duration:n}=p().$state;return n()===0?null:$`
    <div class="vds-start-duration">
      <media-time class="vds-time" type="duration"></media-time>
    </div>
  `}function ms(){return $`
    <div class="vds-buffering-indicator">
      <svg class="vds-buffering-icon" fill="none" viewBox="0 0 120 120" aria-hidden="true">
        <circle class="vds-buffering-track" cx="60" cy="60" r="54" stroke="currentColor"></circle>
        <circle
          class="vds-buffering-track-fill"
          cx="60"
          cy="60"
          r="54"
          stroke="currentColor"
          pathLength="100"
        ></circle>
      </svg>
    </div>
  `}function gs(){const{menuGroup:n,smQueryList:t}=I(),e=()=>n()==="top"||t.matches?"bottom":"top",s=D(()=>`${e()} ${n()==="top"?"end":"center"}`),i=D(()=>`${e()} end`);return $`
    ${Xi({tooltip:s,placement:i,portal:!0})}
    ${_i({tooltip:s,placement:i,portal:!0})}
  `}function an(){return $`
    <div class="vds-gestures">
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:paused"></media-gesture>
      <media-gesture class="vds-gesture" event="pointerup" action="toggle:controls"></media-gesture>
      <media-gesture
        class="vds-gesture"
        event="dblpointerup"
        action="toggle:fullscreen"
      ></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:-10"></media-gesture>
      <media-gesture class="vds-gesture" event="dblpointerup" action="seek:10"></media-gesture>
    </div>
  `}class rn extends v(zi,uo){onSetup(){this.forwardKeepAlive=!1,this.a=p(),this.classList.add("vds-video-layout"),this.menuContainer=tn("vds-video-layout"),l(()=>{this.menuContainer&&g(this.menuContainer,"data-size",this.isSmallLayout&&"sm")}),T(()=>this.menuContainer?.remove())}onConnect(){l(()=>{this.$props.customIcons()?new Ui(this).connect():new sn(this).connect()})}ob(){const{streamType:t}=this.a.$state;return this.isMatch?t()==="unknown"?ms():this.isSmallLayout?Jo():zo():null}render(){return $`${q(this.ob.bind(this))}`}}rn.tagName="media-video-layout",b(nn),b(rn);class on extends v(HTMLElement,li){}on.tagName="media-caption-button";class hn extends v(HTMLElement,ci){}hn.tagName="media-fullscreen-button";class ln extends v(HTMLElement,mi){}ln.tagName="media-live-button";class cn extends v(HTMLElement,di){}cn.tagName="media-mute-button";class dn extends v(HTMLElement,ui){}dn.tagName="media-pip-button";class un extends v(HTMLElement,hi){}un.tagName="media-play-button";class pn extends v(HTMLElement,pi){}pn.tagName="media-seek-button";class mn extends v(HTMLElement,Ve){}mn.tagName="media-toggle-button";class gn extends v(HTMLElement,Ei){}gn.tagName="media-captions";class Yo extends y{}class fn extends v(HTMLElement,Yo){constructor(){super(...arguments),this.pb=x(""),this.qb=D(()=>{const{title:t,started:e}=this.a.$state;return e()&&this.pb()||t()})}onSetup(){this.a=p()}onConnect(){Gt(this.a.textTracks,"chapters",t=>{if(!t){this.pb.set("");return}const e=()=>{const s=t?.activeCues[0];this.pb.set(s?.text||"")};e(),u(t,"cue-change",e)}),l(()=>{this.textContent=this.qb()})}}fn.tagName="media-chapter-title";class bn extends v(HTMLElement,ni){}bn.tagName="media-controls";class vn extends v(HTMLElement,fr){}vn.tagName="media-controls-group";class yn extends v(HTMLElement,Ti){}yn.tagName="media-gesture";class $n extends y{}$n.props={when:""};class wn extends v(HTMLElement,$n){onSetup(){this.query=Xt.create(this.$props.when)}onConnect(){l(this.rb.bind(this))}rb(){const t=this.firstElementChild,e=t?.localName==="template",s=t instanceof HTMLElement;if(!this.query.matches){if(e)for(const i of this.children)i.localName!=="template"&&i.remove();else s&&(t.style.display="none");return}e?this.append(t.cloneNode(!0)):s&&(t.style.display="")}}wn.tagName="media-layout";function zt(n,t){$t(()=>{if(!n.connectScope)return;const e=n.querySelector("template");e&&l(()=>{const s=n.getOptions();Ds(e,s.length,(i,a)=>{const{label:r,value:h}=s[a],o=i.querySelector('[data-part="label"]');i.setAttribute("value",h),o&&(V(r)?o.textContent=r:l(()=>{o.textContent=r()})),t?.(i,s[a],a)})})})}class xn extends v(HTMLElement,Dt){onConnect(){zt(this)}}xn.tagName="media-audio-radio-group";class kn extends v(HTMLElement,Ft){onConnect(){zt(this)}}kn.tagName="media-captions-radio-group";class Tn extends v(HTMLElement,Ot){onConnect(){zt(this,(t,e)=>{const{cue:s,startTime:i,duration:a}=e,r=t.querySelector(".vds-thumbnail,media-thumbnail"),h=t.querySelector('[data-part="start-time"]'),o=t.querySelector('[data-part="duration"]');h&&(h.textContent=i),o&&(o.textContent=a),r&&(r.setAttribute("time",s.startTime+""),l(()=>{const{thumbnails:c}=this.$props;r.setAttribute("src",c())}))})}}Tn.tagName="media-chapters-radio-group";class En extends v(HTMLElement,re){}En.tagName="media-menu-button";class Mn extends v(HTMLElement,pt){}Mn.tagName="media-menu";class Sn extends v(HTMLElement,Br){}Sn.tagName="media-menu-item";class Pn extends v(HTMLElement,wi){}Pn.tagName="media-menu-items";class fs extends v(HTMLElement,$i){}fs.tagName="media-menu-portal",fs.attrs={disabled:{converter(n){return V(n)?n:n!==null}}};class Cn extends v(HTMLElement,Ht){onConnect(){zt(this,(t,e)=>{const s=e.bitrate,i=t.querySelector('[data-part="bitrate"]');s&&i&&l(()=>{i.textContent=s()||""})})}}Cn.tagName="media-quality-radio-group";class An extends v(HTMLElement,Xe){}An.tagName="media-radio";class jn extends v(HTMLElement,he){}jn.tagName="media-radio-group";class Ln extends v(HTMLElement,le){onConnect(){zt(this)}}Ln.tagName="media-speed-radio-group";class Nn extends v(HTMLElement,is){constructor(){super(...arguments),this.sb=document.createElement("img")}onSetup(){this.a=p(),this.$state.img.set(this.sb)}onConnect(){const{src:t,alt:e}=this.$state,{crossorigin:s}=this.a.$state;this.sb.parentNode!==this&&this.prepend(this.sb),l(()=>{g(this.sb,"src",t()),g(this.sb,"alt",e()),g(this.sb,"crossorigin",s())})}}Nn.tagName="media-poster";class In extends v(HTMLElement,kt){constructor(){super(...arguments),this.tb=null}onConnect(){$t(()=>{if(!this.connectScope)return;const t=this.querySelector("template");t&&(this.tb=t,l(this.ub.bind(this)))})}ub(){if(!this.tb)return;const t=Ds(this.tb,this.cues.length||1);this.setRefs(t)}}In.tagName="media-slider-chapters";class qn extends v(HTMLElement,ut){}qn.tagName="media-slider";class On extends v(HTMLElement,vi){}On.tagName="media-slider-preview";const Go=Ne('<img loading="eager" decoding="async" aria-hidden="true">');class bs extends v(HTMLElement,Qe){constructor(){super(...arguments),this.sb=this.xb()}onSetup(){this.a=p(),this.$state.img.set(this.sb)}onConnect(){const{src:t}=this.$state,{crossorigin:e}=this.a.$props;this.sb.parentNode!==this&&this.prepend(this.sb),l(()=>{g(this.sb,"src",t()),g(this.sb,"crossorigin",e())})}xb(){return Ie(Go)}}bs.tagName="media-thumbnail";class Dn extends bs{onSetup(){super.onSetup(),this.vb=Lt(ut.state)}onConnect(){super.onConnect(),l(this.wb.bind(this))}wb(){const{duration:t}=this.a.$state;this.time=this.vb.pointerRate()*t()}}Dn.tagName="media-slider-thumbnail";class vs extends v(HTMLElement,Ze){onConnect(){l(()=>{this.textContent=this.getValueText()})}}vs.tagName="media-slider-value",vs.attrs={padMinutes:{converter:na}};const Xo=Ne('<video muted playsinline preload="none" style="max-width: unset;"></video>');class Fn extends v(HTMLElement,se){constructor(){super(...arguments),this.ma=this.nb()}onSetup(){this.a=p(),this.$state.video.set(this.ma)}onConnect(){const{crossorigin:t,canLoad:e}=this.a.$state,{src:s}=this.$state;this.ma.parentNode!==this&&this.prepend(this.ma),l(()=>{g(this.ma,"src",s()),g(this.ma,"crossorigin",t()),g(this.ma,"preload",e()?"auto":"none")})}nb(){return Ie(Xo)}}Fn.tagName="media-slider-video";class Hn extends v(HTMLElement,ne){}Hn.tagName="media-time-slider";class Rn extends v(HTMLElement,Ye){}Rn.tagName="media-volume-slider";class Vn extends v(HTMLElement,ns){onConnect(){l(()=>{this.textContent=this.$state.timeText()})}}Vn.tagName="media-time";class Wn extends v(HTMLElement,oi){}Wn.tagName="media-tooltip-content";class Bn extends v(HTMLElement,ri){}Bn.tagName="media-tooltip";class Kn extends v(HTMLElement,vr){onConnect(){this.style.display="contents"}}Kn.tagName="media-tooltip-trigger",b(wn),b(bn),b(vn),b(Nn),b(on),b(hn),b(cn),b(dn),b(un),b(pn),b(mn),b(qn),b(Rn),b(Hn),b(In),b(On),b(vs),b(Dn),b(Fn),b(Mn),b(En),b(fs),b(Pn),b(Sn),b(xn),b(kn),b(Ln),b(Cn),b(Tn),b(jn),b(An),b(Bn),b(Kn),b(Wn),b(yn),b(bs),b(gn),b(ln),b(Vn),b(fn);const _o=Ne('<svg width="100%" height="100%" viewBox="0 0 32 32" fill="none" aria-hidden="true" focusable="false" xmlns="http://www.w3.org/2000/svg"></svg>');class zn extends HTMLElement{constructor(){super(...arguments),this.zb=this.Bb(),this.Ab=x(""),this.yb=x(null),this.q=[]}static get observedAttributes(){return["type"]}get type(){return this.yb()}set type(t){this.yb.set(t),t?this.setAttribute("type",t):this.removeAttribute("type")}attributeChangedCallback(t,e,s){t==="type"&&this.yb.set(s||null)}connectedCallback(){this.classList.add("vds-icon"),this.zb.parentNode!==this&&this.prepend(this.zb),this.q.push(l(this.Cb.bind(this)),l(()=>{this.zb.innerHTML=this.Ab()}))}disconnectedCallback(){for(const t of this.q)t();this.q.length=0}Bb(){return Ie(_o)}Cb(){const t=this.yb();t&&Ls[t]?Ls[t]().then(({default:e})=>{t===d(this.yb)&&this.Ab.set(e)}):this.Ab.set("")}}zn.tagName="media-icon",b(zn);
